"use strict";(self.webpackChunkdocument_management_system_lw_frontend=self.webpackChunkdocument_management_system_lw_frontend||[]).push([[177],{1177:(pe,h,i)=>{i.r(h),i.d(h,{RecordsRoutes:()=>de});var S=i(9213),C=i(8834),r=i(9159),f=i(6695),p=i(5596),l=i(5505),E=i(3902),d=i(177),x=i(7722),R=i(771),v=i(2765),c=i(2102),u=i(9631),_=i(5084),w=i(2042),T=i(9172),N=i(5558),D=i(6354),I=i(9437),O=i(9598),M=i(1626),e=i(3953),U=i(7843);let b=(()=>{class t{constructor(a){this.apiService=a}getAllRecords(a){return this.apiService.get("/activity/all")}getAllActivitiesWithServerSidePagination(a,n,s,m){const g=(new M.Nl).set("page",a.toString()).set("limit",n.toString()).set("createdAt",s).set("order",m);return this.apiService.get("/activity",g)}static#e=this.\u0275fac=function(n){return new(n||t)(e.KVO(U.Z))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac})}return t})();var y=i(4006),P=i(8149),A=i(4912),F=i(7224),L=i(2168),j=i(7418),G=i(4535);const H=()=>[5,10,25,100];function z(t,o){1&t&&(e.j41(0,"span",9),e.nrm(1,"app-content-loader",10),e.k0s()),2&t&&(e.R7$(),e.Y8G("loaderType","input"))}function V(t,o){if(1&t){const a=e.RV6();e.j41(0,"mat-form-field",9)(1,"input",11),e.bIt("keyup",function(s){e.eBV(a);const m=e.XpG();return e.Njj(m.applyFilter(s))}),e.k0s()()}}function $(t,o){1&t&&(e.j41(0,"th",25),e.EFF(1," User "),e.k0s())}function W(t,o){if(1&t&&(e.j41(0,"td",26),e.nrm(1,"app-user-thumbnail",27),e.k0s()),2&t){const a=o.$implicit;e.R7$(),e.Y8G("item",a.user)("hasActionIcon",!1)("iconName","circle-plus")("iconColor","rgb(10, 17, 219)")}}function Y(t,o){1&t&&(e.j41(0,"th",25),e.EFF(1," Activity Type "),e.k0s())}function K(t,o){if(1&t&&(e.j41(0,"td",28)(1,"span",29),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()()),2&t){const a=o.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,1,a.activity_type)," ")}}function B(t,o){1&t&&(e.j41(0,"th",25),e.EFF(1," Status "),e.k0s())}function k(t,o){1&t&&(e.j41(0,"mat-label",31),e.EFF(1,"SUCCESS"),e.k0s())}function X(t,o){1&t&&(e.j41(0,"mat-label",32),e.EFF(1,"FAIL"),e.k0s())}function Z(t,o){1&t&&(e.j41(0,"mat-label",33),e.EFF(1,"INFO"),e.k0s())}function J(t,o){if(1&t&&(e.j41(0,"td",28)(1,"span",30),e.DNE(2,k,2,0,"mat-label",31)(3,X,2,0,"mat-label",32)(4,Z,2,0,"mat-label",33),e.k0s()()),2&t){const a=o.$implicit;e.R7$(2),e.vxM("SUCCESS"==a.status?2:-1),e.R7$(),e.vxM("FAIL"==a.status?3:-1),e.R7$(),e.vxM("INFO"==a.status?4:-1)}}function Q(t,o){1&t&&(e.j41(0,"th",25),e.EFF(1," Created Date "),e.k0s())}function q(t,o){if(1&t&&(e.j41(0,"td",34),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&t){const a=o.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,a.createdAt,"dd MMM yyyy, HH:mm:ss")," ")}}function ee(t,o){1&t&&(e.j41(0,"th",35),e.EFF(1," Summary "),e.k0s())}function te(t,o){if(1&t&&(e.j41(0,"td",28)(1,"div",36),e.EFF(2),e.k0s()()),2&t){const a=o.$implicit;e.R7$(2),e.SpI(" ",a.detail_status," ")}}function ae(t,o){1&t&&e.nrm(0,"tr",37)}function ie(t,o){1&t&&e.nrm(0,"tr",38)}function ne(t,o){if(1&t&&(e.j41(0,"table",12),e.qex(1,13),e.DNE(2,$,2,0,"th",14)(3,W,2,4,"td",15),e.bVm(),e.qex(4,16),e.DNE(5,Y,2,0,"th",14)(6,K,4,3,"td",17),e.bVm(),e.qex(7,18),e.DNE(8,B,2,0,"th",14)(9,J,5,3,"td",17),e.bVm(),e.qex(10,19),e.DNE(11,Q,2,0,"th",14)(12,q,3,4,"td",20),e.bVm(),e.qex(13,21),e.DNE(14,ee,2,0,"th",22)(15,te,3,1,"td",17),e.bVm(),e.DNE(16,ae,1,0,"tr",23)(17,ie,1,0,"tr",24),e.k0s()),2&t){const a=e.XpG();e.Y8G("dataSource",a.dataSource),e.R7$(16),e.Y8G("matHeaderRowDef",a.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",a.displayedColumns)}}function se(t,o){1&t&&e.nrm(0,"app-content-loader",39),2&t&&e.Y8G("loaderType","table")}function oe(t,o){1&t&&e.nrm(0,"app-content-loader",10),2&t&&e.Y8G("loaderType","paginator")}let le=(()=>{class t{constructor(a,n,s,m,g){this.router=a,this.apiService=n,this.alertService=s,this.deleteConfirmDialog=m,this.fullPageLoaderService=g,this.removeDialogTitle="Do you want to remove?",this.messageBodayKey="",this.editRouterLink="",this.displayedColumns=["user","activity_type","created_date","status","summary"],this.tableData=[],this.dataSource=new r.I6,this.resultsLength=0,this.isLoadingResults=!0,this.isLoading=!1,this.isRateLimitReached=!1,this.pageSize=5}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.sort&&(this.dataSource.sort=this.sort),this.loadTableData()}loadTableData(){this.paginator.page.pipe((0,T.Z)({}),(0,N.n)(()=>(this.isLoadingResults=!0,this.requestTableData(this.sort?this.sort.active:"createdAt",this.sort?this.sort.direction:"desc")))).subscribe(a=>{this.isLoadingResults=!1,this.tableData=a,O.B.getConsitantRandomColorPerUser(this.tableData,!1),this.isLoading=!1,this.dataSource=new r.I6(this.tableData)})}requestTableData(a,n){return this.apiService.getAllActivitiesWithServerSidePagination(this.paginator.pageIndex,this.paginator.pageSize,a,n).pipe((0,D.T)(s=>(this.resultsLength=s.totalRecords,s.data)),(0,I.W)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,[])))}onPageChange(){this.isLoadingResults=!0,this.requestTableData(this.sort?this.sort.active:"createdAt",this.sort?this.sort.direction:"asc").subscribe(s=>{this.isLoadingResults=!1,this.resultsLength=s.totalRecords,this.dataSource.data=s.data})}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase()}static#e=this.\u0275fac=function(n){return new(n||t)(e.rXU(L.Ix),e.rXU(b),e.rXU(j.I),e.rXU(y.bZ),e.rXU(G.J))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-expanded-activity-table-pagination"]],viewQuery:function(n,s){if(1&n&&(e.GBs(f.iy,5),e.GBs(w.B4,5)),2&n){let m;e.mGM(m=e.lsd())&&(s.paginator=m.first),e.mGM(m=e.lsd())&&(s.sort=m.first)}},inputs:{removeDialogTitle:"removeDialogTitle",messageBodayKey:"messageBodayKey",editRouterLink:"editRouterLink"},standalone:!0,features:[e.Jv_([b,d.vh]),e.aNF],decls:11,vars:11,consts:[[1,"cardWithShadow"],[1,"row","justify-content-between"],[1,"col"],["appearance","outline","class","w-100 m-b-0","color","primary",4,"ngIf"],[1,"table-responsive"],["mat-table","","class","w-100",3,"dataSource",4,"ngIf"],["style","padding-top: 2px !important;",3,"loaderType",4,"ngIf"],[3,"loaderType",4,"ngIf"],[3,"page","length","pageSize","pageSizeOptions"],["appearance","outline","color","primary",1,"w-100","m-b-0"],[3,"loaderType"],["matInput","","placeholder","Filter",3,"keyup"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","user"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","activity_type"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","created_date"],["mat-cell","","class","mat-body-1 f-s-12 f-w-600",4,"matCellDef"],["matColumnDef","summary"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],[3,"item","hasActionIcon","iconName","iconColor"],["mat-cell",""],[1,"bg-light-error","text-error","rounded","f-w-600","p-6","p-y-4","f-s-12","m-r-2"],[1,"row"],[1,"label-active"],[1,"label-deactivated"],[1,"label-info"],["mat-cell","",1,"mat-body-1","f-s-12","f-w-600"],["mat-header-cell",""],[1,"wrap-cell","f-w-600","mat-subtitle-1","f-s-12"],["mat-header-row",""],["mat-row",""],[2,"padding-top","2px !important",3,"loaderType"]],template:function(n,s){1&n&&(e.j41(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2),e.DNE(4,z,2,1,"span",3)(5,V,2,0,"mat-form-field",3),e.k0s()(),e.j41(6,"div",4),e.DNE(7,ne,18,3,"table",5)(8,se,1,1,"app-content-loader",6)(9,oe,1,1,"app-content-loader",7),e.k0s(),e.j41(10,"mat-paginator",8),e.bIt("page",function(){return s.onPageChange()}),e.k0s()()()),2&n&&(e.R7$(4),e.Y8G("ngIf",s.isLoadingResults),e.R7$(),e.Y8G("ngIf",!s.isLoadingResults),e.R7$(2),e.Y8G("ngIf",!s.isLoadingResults),e.R7$(),e.Y8G("ngIf",s.isLoadingResults),e.R7$(),e.Y8G("ngIf",s.isLoadingResults),e.R7$(),e.xc7("visibility",s.isLoadingResults?"hidden":"visible"),e.Y8G("length",s.resultsLength)("pageSize",s.pageSize)("pageSizeOptions",e.lJ4(10,H)))},dependencies:[d.MD,d.bT,d.PV,d.vh,r.tP,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,C.Hl,S.m_,p.Hu,p.RN,p.m2,E.Fg,x.G,c.rl,c.nJ,u.fg,f.iy,R.D,v.g7,c.RG,u.fS,_.X6,P.G,A.X4,F.y,y.hM],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;padding:8px;font-weight:lighter;margin:0;height:fit-content!important}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0 0 0 16px!important}.timeline[_ngcontent-%COMP%]{position:relative;margin:20px 0;padding-left:20px;border-left:2px solid #ccc}.timeline-event[_ngcontent-%COMP%]{position:relative;margin-bottom:0}.timeline-date[_ngcontent-%COMP%]{position:absolute;left:-120px;width:100px;font-size:14px;font-weight:700;text-align:right}.timeline-content[_ngcontent-%COMP%]{padding:2px 0 0;border-radius:4px}.timeline-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:auto}.error-content[_ngcontent-%COMP%]{color:#ff0000bd}.success-content[_ngcontent-%COMP%]{color:#00d270fb!important}.timeline-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:13px;color:#040404;font-weight:300}.mat-label-with-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}mat-icon[_ngcontent-%COMP%]{font-size:20px}.label-active[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;font-weight:600;padding-left:2px;padding-right:2px;padding-top:0!important;padding-bottom:0!important;font-size:small;color:#34ab3c}.label-deactivated[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;font-weight:600;padding-left:2px;padding-right:2px;padding-top:0!important;padding-bottom:0!important;font-size:small;color:#cd1515cd}.label-info[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;font-weight:600;padding-left:2px;padding-right:2px;padding-top:0!important;padding-bottom:0!important;font-size:small;color:#0640fddb}.bg-light-error[_ngcontent-%COMP%]{background-color:#ebebeb!important}.text-error[_ngcontent-%COMP%]{color:#070811!important}.truncate[_ngcontent-%COMP%]{max-height:3em;overflow:hidden;text-overflow:ellipsis}.wrap-cell[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word;max-width:200px}"]})}return t})();const de=[{path:"",children:[{path:"activity",component:(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-activity"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(n,s){1&n&&e.nrm(0,"app-expanded-activity-table-pagination")},dependencies:[le],encapsulation:2})}return t})(),canActivate:[i(2014).K],data:{title:"Monitor User Activities",expectedRole:l.N.ADMIN}}]}]}}]);