"use strict";(self.webpackChunkdocument_management_system_lw_frontend=self.webpackChunkdocument_management_system_lw_frontend||[]).push([[177],{1177:(rt,c,n)=>{n.r(c),n.d(c,{RecordsRoutes:()=>ot});var b=n(9213),v=n(8834),s=n(9159),f=n(6695),p=n(5596),R=n(3902),d=n(177),y=n(7722),E=n(771),C=n(2765),m=n(2102),g=n(9631),w=n(5084),T=n(9172),_=n(5558),h=n(6354),u=n(9437),M=n(7673),S=n(9598),P=n(1626),t=n(3953),O=n(7843);let x=(()=>{class e{constructor(a){this.apiService=a}getAllRecords(a){return this.apiService.get("/activity/all")}getAllActivitiesWithServerSidePagination(a,l,o,r){const st=(new P.Nl).set("page",a.toString()).set("limit",l.toString()).set("createdAt",o).set("order",r);return this.apiService.get("/activity",st)}static#t=this.\u0275fac=function(l){return new(l||e)(t.KVO(O.Z))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var D=n(4006),F=n(8149),I=n(4912),L=n(7224);const j=()=>[5,10,25,100];function A(e,i){1&e&&(t.j41(0,"span",9),t.nrm(1,"app-content-loader",10),t.k0s()),2&e&&(t.R7$(),t.Y8G("loaderType","input"))}function $(e,i){if(1&e){const a=t.RV6();t.j41(0,"mat-form-field",9)(1,"input",11),t.bIt("keyup",function(o){t.eBV(a);const r=t.XpG();return t.Njj(r.applyFilter(o))}),t.k0s()()}}function N(e,i){1&e&&(t.j41(0,"th",25),t.EFF(1," User "),t.k0s())}function G(e,i){if(1&e&&(t.j41(0,"td",26),t.nrm(1,"app-user-thumbnail",27),t.k0s()),2&e){const a=i.$implicit;t.R7$(),t.Y8G("item",a.user)("hasActionIcon",!1)("iconName","circle-plus")("iconColor","rgb(10, 17, 219)")}}function z(e,i){1&e&&(t.j41(0,"th",25),t.EFF(1," Activity Type "),t.k0s())}function Y(e,i){if(1&e&&(t.j41(0,"td",28)(1,"span",29),t.EFF(2),t.nI1(3,"titlecase"),t.k0s()()),2&e){const a=i.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,1,a.activity_type)," ")}}function V(e,i){1&e&&(t.j41(0,"th",25),t.EFF(1," Status "),t.k0s())}function B(e,i){1&e&&(t.j41(0,"mat-label",31),t.EFF(1,"SUCCESS"),t.k0s())}function H(e,i){1&e&&(t.j41(0,"mat-label",32),t.EFF(1,"FAIL"),t.k0s())}function U(e,i){1&e&&(t.j41(0,"mat-label",33),t.EFF(1,"INFO"),t.k0s())}function k(e,i){if(1&e&&(t.j41(0,"td",28)(1,"span",30),t.DNE(2,B,2,0,"mat-label",31)(3,H,2,0,"mat-label",32)(4,U,2,0,"mat-label",33),t.k0s()()),2&e){const a=i.$implicit;t.R7$(2),t.vxM("SUCCESS"==a.status?2:-1),t.R7$(),t.vxM("FAIL"==a.status?3:-1),t.R7$(),t.vxM("INFO"==a.status?4:-1)}}function W(e,i){1&e&&(t.j41(0,"th",25),t.EFF(1," Created Date "),t.k0s())}function K(e,i){if(1&e&&(t.j41(0,"td",34),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const a=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,a.createdAt,"dd MMM yyyy, HH:mm:ss")," ")}}function X(e,i){1&e&&(t.j41(0,"th",35),t.EFF(1," Summary "),t.k0s())}function Z(e,i){if(1&e&&(t.j41(0,"td",28)(1,"div",36),t.EFF(2),t.k0s()()),2&e){const a=i.$implicit;t.R7$(2),t.SpI(" ",a.detail_status," ")}}function J(e,i){1&e&&t.nrm(0,"tr",37)}function Q(e,i){1&e&&t.nrm(0,"tr",38)}function q(e,i){if(1&e&&(t.j41(0,"table",12),t.qex(1,13),t.DNE(2,N,2,0,"th",14)(3,G,2,4,"td",15),t.bVm(),t.qex(4,16),t.DNE(5,z,2,0,"th",14)(6,Y,4,3,"td",17),t.bVm(),t.qex(7,18),t.DNE(8,V,2,0,"th",14)(9,k,5,3,"td",17),t.bVm(),t.qex(10,19),t.DNE(11,W,2,0,"th",14)(12,K,3,4,"td",20),t.bVm(),t.qex(13,21),t.DNE(14,X,2,0,"th",22)(15,Z,3,1,"td",17),t.bVm(),t.DNE(16,J,1,0,"tr",23)(17,Q,1,0,"tr",24),t.k0s()),2&e){const a=t.XpG();t.Y8G("dataSource",a.dataSource),t.R7$(16),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",a.displayedColumns)}}function tt(e,i){1&e&&t.nrm(0,"app-content-loader",39),2&e&&t.Y8G("loaderType","table")}function et(e,i){1&e&&t.nrm(0,"app-content-loader",10),2&e&&t.Y8G("loaderType","paginator")}let at=(()=>{class e{constructor(a){this.apiService=a,this.removeDialogTitle="Do you want to remove?",this.messageBodayKey="",this.editRouterLink="",this.displayedColumns=["user","activity_type","created_date","status","summary"],this.tableData=[],this.dataSource=new s.I6,this.resultsLength=0,this.isLoadingResults=!0,this.isLoading=!1,this.isRateLimitReached=!1,this.pageSize=5}ngAfterViewInit(){this.paginator.page.pipe((0,T.Z)({}),(0,_.n)(()=>(this.isLoadingResults=!0,this.apiService.getAllActivitiesWithServerSidePagination(this.paginator.pageIndex,this.paginator.pageSize,"createdAt","desc").pipe((0,h.T)(a=>(this.isLoadingResults=!1,this.resultsLength=a.totalRecords,a.data)),(0,u.W)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,(0,M.of)([]))))))).subscribe(a=>{this.dataSource.data=a,S.B.getConsitantRandomColorPerUser(a,!1)})}requestTableData(){return this.apiService.getAllActivitiesWithServerSidePagination(this.paginator.pageIndex,this.paginator.pageSize,"createdAt","desc").pipe((0,h.T)(a=>({data:a.data,totalRecords:a.totalRecords})),(0,u.W)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,[])))}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase()}static#t=this.\u0275fac=function(l){return new(l||e)(t.rXU(x))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-expanded-activity-table-pagination"]],viewQuery:function(l,o){if(1&l&&t.GBs(f.iy,5),2&l){let r;t.mGM(r=t.lsd())&&(o.paginator=r.first)}},inputs:{removeDialogTitle:"removeDialogTitle",messageBodayKey:"messageBodayKey",editRouterLink:"editRouterLink"},standalone:!0,features:[t.Jv_([x,d.vh]),t.aNF],decls:11,vars:11,consts:[[1,"cardWithShadow"],[1,"row","justify-content-between"],[1,"col"],["appearance","outline","class","w-100 m-b-0","color","primary",4,"ngIf"],[1,"table-responsive"],["mat-table","","class","w-100",3,"dataSource",4,"ngIf"],["style","padding-top: 2px !important;",3,"loaderType",4,"ngIf"],[3,"loaderType",4,"ngIf"],[3,"length","pageSize","pageSizeOptions"],["appearance","outline","color","primary",1,"w-100","m-b-0"],[3,"loaderType"],["matInput","","placeholder","Filter",3,"keyup"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","user"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","activity_type"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","created_date"],["mat-cell","","class","mat-body-1 f-s-12 f-w-600",4,"matCellDef"],["matColumnDef","summary"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],[3,"item","hasActionIcon","iconName","iconColor"],["mat-cell",""],[1,"bg-light-error","text-error","rounded","f-w-600","p-6","p-y-4","f-s-12","m-r-2"],[1,"row"],[1,"label-active"],[1,"label-deactivated"],[1,"label-info"],["mat-cell","",1,"mat-body-1","f-s-12","f-w-600"],["mat-header-cell",""],[1,"wrap-cell","f-w-600","mat-subtitle-1","f-s-12"],["mat-header-row",""],["mat-row",""],[2,"padding-top","2px !important",3,"loaderType"]],template:function(l,o){1&l&&(t.j41(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2),t.DNE(4,A,2,1,"span",3)(5,$,2,0,"mat-form-field",3),t.k0s()(),t.j41(6,"div",4),t.DNE(7,q,18,3,"table",5)(8,tt,1,1,"app-content-loader",6)(9,et,1,1,"app-content-loader",7),t.k0s(),t.nrm(10,"mat-paginator",8),t.k0s()()),2&l&&(t.R7$(4),t.Y8G("ngIf",o.isLoadingResults),t.R7$(),t.Y8G("ngIf",!o.isLoadingResults),t.R7$(2),t.Y8G("ngIf",!o.isLoadingResults),t.R7$(),t.Y8G("ngIf",o.isLoadingResults),t.R7$(),t.Y8G("ngIf",o.isLoadingResults),t.R7$(),t.xc7("visibility",o.isLoadingResults?"hidden":"visible"),t.Y8G("length",o.resultsLength)("pageSize",o.pageSize)("pageSizeOptions",t.lJ4(10,j)))},dependencies:[d.MD,d.bT,d.PV,d.vh,s.tP,s.Zl,s.tL,s.ji,s.cC,s.YV,s.iL,s.KS,s.$R,s.YZ,s.NB,v.Hl,b.m_,p.Hu,p.RN,p.m2,R.Fg,y.G,m.rl,m.nJ,g.fg,f.iy,E.D,C.g7,m.RG,g.fS,w.X6,F.G,I.X4,L.y,D.hM],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;padding:8px;font-weight:lighter;margin:0;height:fit-content!important}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}.mdc-data-table__cell[_ngcontent-%COMP%], .mdc-data-table__header-cell[_ngcontent-%COMP%]{padding:0 0 0 16px!important}.timeline[_ngcontent-%COMP%]{position:relative;margin:20px 0;padding-left:20px;border-left:2px solid #ccc}.timeline-event[_ngcontent-%COMP%]{position:relative;margin-bottom:0}.timeline-date[_ngcontent-%COMP%]{position:absolute;left:-120px;width:100px;font-size:14px;font-weight:700;text-align:right}.timeline-content[_ngcontent-%COMP%]{padding:2px 0 0;border-radius:4px}.timeline-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:auto}.error-content[_ngcontent-%COMP%]{color:#ff0000bd}.success-content[_ngcontent-%COMP%]{color:#00d270fb!important}.timeline-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:13px;color:#040404;font-weight:300}.mat-label-with-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}mat-icon[_ngcontent-%COMP%]{font-size:20px}.label-active[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;font-weight:600;padding-left:2px;padding-right:2px;padding-top:0!important;padding-bottom:0!important;font-size:small;color:#34ab3c}.label-deactivated[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;font-weight:600;padding-left:2px;padding-right:2px;padding-top:0!important;padding-bottom:0!important;font-size:small;color:#cd1515cd}.label-info[_ngcontent-%COMP%]{border-style:solid;border-width:1.5px;font-weight:600;padding-left:2px;padding-right:2px;padding-top:0!important;padding-bottom:0!important;font-size:small;color:#0640fddb}.bg-light-error[_ngcontent-%COMP%]{background-color:#ebebeb!important}.text-error[_ngcontent-%COMP%]{color:#070811!important}.truncate[_ngcontent-%COMP%]{max-height:3em;overflow:hidden;text-overflow:ellipsis}.wrap-cell[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word;max-width:200px}"]})}return e})(),nt=(()=>{class e{static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-activity"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(l,o){1&l&&t.nrm(0,"app-expanded-activity-table-pagination")},dependencies:[at],encapsulation:2})}return e})();var it=n(5505);const ot=[{path:"",children:[{path:"activity",component:nt,canActivate:[n(2014).K],data:{title:"Monitor User Activities",expectedRole:it.N.ADMIN}}]}]}}]);