"use strict";(self.webpackChunkdocument_management_system_lw_frontend=self.webpackChunkdocument_management_system_lw_frontend||[]).push([[903],{2155:(O,b,l)=>{l.d(b,{C:()=>i});var i=function(d){return d.ALREADY_EXIST="ALREADY_EXIST",d.NOT_FOUND="NOT_FOUND",d.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",d.ACCESSDENIED="ACCESSDENIED",d}(i||{})},7224:(O,b,l)=>{l.d(b,{y:()=>G});var i=l(177),d=l(1626),C=l(7843),h=l(3953),u=l(2168),e=l(9437),p=l(8810),w=l(7418),v=l(9088);const R=(E,T)=>{const P=(0,h.WQX)(u.Ix),S=(0,h.WQX)(v.u),j=(0,h.WQX)(w.I),A=S.getToken();return T(!["/register","/login","/verify-otp","/resend-otp"].some(F=>E.url.includes(F))&&A?E.clone({setHeaders:{Authorization:`Bearer ${A}`}}):E).pipe((0,e.W)(F=>"TOKEN_EXPIRED"===F?.error?.errorCode?(j.errorToaster("top","Your session has expired. Please sign in again to access your account."),S.logout(),P.navigate(["/authentication/login"]),(0,p.$)(()=>new Error("Session expired"))):(0,p.$)(()=>F)))};let G=(()=>{class E{static#e=this.\u0275fac=function(S){return new(S||E)};static#t=this.\u0275mod=h.$C({type:E});static#r=this.\u0275inj=h.G2t({providers:[C.Z,(0,d.$R)((0,d.b$)([R]))],imports:[i.MD]})}return E})()},7843:(O,b,l)=>{l.d(b,{Z:()=>h});var d=l(3953),C=l(1626);let h=(()=>{class u{constructor(p){this.http=p,this.baseUrl="http://www.lawyercloud.work.gd/api"}get(p,w){return this.http.get(`${this.baseUrl}${p}`,{params:w})}post(p,w,v){return this.http.post(`${this.baseUrl}${p}`,w,v)}put(p,w,v){return this.http.put(`${this.baseUrl}${p}`,w,v)}delete(p,w){return this.http.delete(`${this.baseUrl}${p}`,w)}static#e=this.\u0275fac=function(w){return new(w||u)(d.KVO(C.Qq))};static#t=this.\u0275prov=d.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},3903:(O,b,l)=>{l.r(b),l.d(b,{AuthenticationRoutes:()=>De});var i=l(9417),d=l(2168),C=l(7722),h=l(8834),u=l(177),e=l(3953),p=l(1413),w=l(6977);const v=o=>({"error-input":o});function R(o,a){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.config.separator," ")}}function G(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"input",5,0),e.bIt("paste",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.handlePaste(n))})("keyup",function(n){const s=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.onKeyUp(n,s))})("input",function(n){const s=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.onInput(n,s))})("keydown",function(n){const s=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.onKeyDown(n,s))}),e.k0s(),e.DNE(3,R,2,1,"span",6),e.bVm()}if(2&o){const t=a.$implicit,r=a.index,n=a.last,s=e.XpG(2);e.R7$(),e.ZvI("otp-input ",s.config.inputClass,""),e.Y8G("pattern",s.config.allowNumbersOnly?"\\d*":"")("type",s.inputType)("placeholder",(null==s.config?null:s.config.placeholder)||"")("ngStyle",s.config.inputStyles)("formControl",s.otpForm.controls[t])("id",s.getBoxId(r))("ngClass",e.eq3(11,v,(null==s.config?null:s.config.showError)&&(null==s.formCtrl?null:s.formCtrl.invalid)&&((null==s.formCtrl?null:s.formCtrl.dirty)||(null==s.formCtrl?null:s.formCtrl.touched)))),e.R7$(2),e.Y8G("ngIf",s.config.separator&&!n)}}function E(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",2),e.bIt("focusin",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFocusIn())})("focusout",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFocusOut())}),e.j41(1,"div",3),e.DNE(2,G,4,13,"ng-container",4),e.k0s()()}if(2&o){const t=e.XpG();e.ZvI("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),e.Mz_("id","c_",t.componentKey,""),e.Y8G("ngStyle",t.config.containerStyles),e.R7$(2),e.Y8G("ngForOf",t.controlKeys)}}class T{static ifTab(a){return this.ifKey(a,"Tab")}static ifDelete(a){return this.ifKey(a,"Delete;Del")}static ifBackspace(a){return this.ifKey(a,"Backspace")}static ifRightArrow(a){return this.ifKey(a,"ArrowRight;Right")}static ifLeftArrow(a){return this.ifKey(a,"ArrowLeft;Left")}static ifSpacebar(a){return this.ifKey(a,"Spacebar; ")}static ifKey(a,t){return t.split(";").some(n=>n===a.key)}}class P{static keys(a){return a?Object.keys(a):[]}}let S=(()=>{class o{set disabled(t){this.setDisabledState(t)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}get controlKeys(){return P.keys(this.otpForm?.controls)}constructor(t){this.document=t,this.config={length:4},this.onBlur=new p.B,this.onInputChange=new p.B,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36),this.destroy$=new p.B,this.activeFocusCount=0,this.onChange=()=>{},this.onTouched=()=>{},this._isDisabled=!1}ngOnInit(){this.otpForm=new i.gE({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new i.MJ);this.otpForm.valueChanges.pipe((0,w.Q)(this.destroy$)).subscribe(t=>{P.keys(this.otpForm.controls).forEach(r=>{var n=this.otpForm.controls[r].value;n&&n.length>1&&(n.length>=this.config.length?this.setValue(n):this.rebuildValue())})})}setDisabledState(t){this._isDisabled=t,this.otpForm&&(t?this.otpForm.disable({emitEvent:!1}):this.otpForm.enable({emitEvent:!1}))}writeValue(t){this.currentVal=t||null,this.otpForm&&this.currentVal&&this.setValue(this.currentVal)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onFocusIn(){this.onTouched(),this.activeFocusCount++}onFocusOut(){setTimeout(()=>{this.activeFocusCount--,0===this.activeFocusCount&&(this.onTouched(),this.onBlur.next())},0)}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const r=t.getElementsByClassName("otp-input")[0];r&&r.focus&&r.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,r){const n=this.getBoxId(r-1),s=this.getBoxId(r),c=this.getBoxId(r+1);if(T.ifSpacebar(t))return t.preventDefault(),!1;if(T.ifBackspace(t))return t.target.value?this.clearInput(s,r):(this.clearInput(n,r-1),this.setSelected(n)),void this.rebuildValue();if(T.ifDelete(t))return t.target.value?this.clearInput(s,r):(this.clearInput(n,r-1),this.setSelected(n)),void this.rebuildValue();if(this.ifValidKeyCode(t)){t.target.value=t.key;let m=this.getControlName(r);this.otpForm.controls[m]?.setValue(t.key),t.preventDefault(),this.setSelected(c),this.rebuildValue()}}onInput(t,r){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value=null,t.stopPropagation(),t.preventDefault(),void this.clearInput(null,r)}onKeyUp(t,r){T.ifTab(t)&&(r-=1);const n=this.getBoxId(r+1),s=this.getBoxId(r-1);return T.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(n)):T.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(s)):void 0}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,r){let n=this.getControlName(r);if(this.otpForm.controls[n]?.setValue(null),t){const s=this.document.getElementById(t);s&&s instanceof HTMLInputElement&&(s.value=null)}}setSelected(t){this.focusTo(t);const r=this.document.getElementById(t);r&&r.setSelectionRange&&setTimeout(()=>{r.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const r=t.key;return this.config?.allowNumbersOnly?this.validateNumber(r):/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/^[a-zA-Z0-9%*_\-@#$!]$/.test(r)&&1==r.length}focusTo(t){const r=this.document.getElementById(t);r&&r.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();t=t.toString().replace(/\s/g,""),Array.from(t).forEach((r,n)=>{this.otpForm.get(this.getControlName(n))&&this.otpForm.get(this.getControlName(n)).setValue(r)}),this.config.disableAutoFocus||setTimeout(()=>{const r=this.document.getElementById(`c_${this.componentKey}`);var n=t.length<this.config.length?t.length:this.config.length-1;let s=r.getElementsByClassName("otp-input")[n];s&&s.focus&&setTimeout(()=>{s.focus()},1)},0),this.rebuildValue()}}rebuildValue(){let t=null;P.keys(this.otpForm.controls).forEach(r=>{let n=this.otpForm.controls[r].value;if(n){let s=n.length>1,c=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());n=n[0];let m=c?"upper"==this.config.letterCase.toLocaleLowerCase()?n.toUpperCase():n.toLowerCase():n;c&&m==n?c=!1:n=m,null==t?t=n:t+=n,(s||c)&&this.otpForm.controls[r].setValue(n)}}),this.currentVal!=t&&(this.currentVal=t,this.onChange(t),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.next(t))}handlePaste(t){let r=t.clipboardData||window.clipboardData;if(r)var n=r.getData("Text");t.stopPropagation(),t.preventDefault(),n&&(!this.config.allowNumbersOnly||this.validateNumber(n))&&this.setValue(n)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(r){return new(r||o)(e.rXU(u.qQ))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["ng-otp-input"],["ngx-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl",disabled:"disabled"},outputs:{onBlur:"onBlur",onInputChange:"onInputChange"},standalone:!0,features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.aNF],decls:1,vars:1,consts:[["inp",""],["tabindex","0",3,"class","id","ngStyle","focusin","focusout",4,"ngIf"],["tabindex","0",3,"focusin","focusout","id","ngStyle"],[1,"n-o-c"],[4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"paste","keyup","input","keydown","pattern","type","placeholder","ngStyle","formControl","id","ngClass"],[4,"ngIf"]],template:function(r,n){1&r&&e.DNE(0,E,3,7,"div",1),2&r&&e.Y8G("ngIf",null==n.otpForm?null:n.otpForm.controls)},dependencies:[i.X1,i.me,i.BC,i.R_,i.l_,u.bT,u.pM,u.B3,u.YU],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]{margin:0 .51rem}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:first-child{margin-left:0}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:last-child{margin-right:0}.n-o-c[_ngcontent-%COMP%]{display:flex;align-items:center}.error-input[_ngcontent-%COMP%]{border-color:red}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]})}return o})(),j=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.$C({type:o});static#r=this.\u0275inj=e.G2t({imports:[S]})}return o})();var M=l(7843);let I=(()=>{class o{constructor(t){this.apiService=t}registerUser(t,r){return this.apiService.post("/auth/register",t,r)}loginUser(t,r){return this.apiService.post("/auth/login",t,r)}passwordResetOtp(t,r){return this.apiService.post("/auth/forget-password-otp",t,r)}passwordReset(t,r){return this.apiService.post("/auth/password-reset",t,r)}verifyOtp(t,r){return this.apiService.post("/auth/verify-otp",t,r)}resendOtp(t,r){return this.apiService.post("/auth/resend-otp",t,r)}static#e=this.\u0275fac=function(r){return new(r||o)(e.KVO(M.Z))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})();var g=function(o){return o.LOGIN_OTP_PENDING="LOGIN_OTP_PENDING",o.REGISTER_OTP_PENDING="REGISTER_OTP_PENDING",o.LOGIN_OTP_VERIFIED="LOGIN_OTP_VERIFIED",o.REGISTER_OTP_VERIFIED="REGISTER_OTP_VERIFIED",o.FORGET_PASSWORD_OTP_PENDING="FORGET_PASSWORD_OTP_PENDING",o.FORGET_PASSWORD_OTP_VERIFIED="FORGET_PASSWORD_OTP_VERIFIED",o}(g||{});const F=o=>({$implicit:o});function K(o,a){1&o&&e.eu8(0)}function W(o,a){if(1&o&&e.DNE(0,K,1,0,"ng-container",1),2&o){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.render)("ngTemplateOutletContext",e.eq3(2,F,t.i))}}function H(o,a){if(1&o&&e.nrm(0,"span",0),2&o){const t=e.XpG();e.Y8G("innerHTML",t.i.text,e.npT)}}var f=function(o){return o[o.ing=0]="ing",o[o.pause=1]="pause",o[o.stop=2]="stop",o[o.done=3]="done",o}(f||{});let $=(()=>{class o{constructor(){this.ngZone=(0,e.WQX)(e.SKi),this.fns=[],this.commands=[],this.nextTime=0,this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let t=+new Date-this.nextTime;const r=1+Math.floor(t/100);t=100-t%100,this.nextTime+=100*r;for(let n=0,s=this.fns.length;n<s;n+=2){let c=this.fns[n+1];if(0===c)this.fns[n](r);else{c+=2*r-1;const m=Math.floor(c/20);m>0&&this.fns[n](m),this.fns[n+1]=c%20+1}}this.ing&&setTimeout(()=>this.process(),t)}add(t,r){return this.commands.push(()=>{this.fns.push(t),this.fns.push(1e3===r?1:0),this.ing=!0}),this}remove(t){return this.commands.push(()=>{const r=this.fns.indexOf(t);-1!==r&&this.fns.splice(r,2),this.ing=this.fns.length>0}),this}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})();const Y=new e.nKC("COUNTDOWN_CONFIG");let z=(()=>{class o{constructor(){this.locale=(0,e.WQX)(e.xe9),this.timer=(0,e.WQX)($),this.cdr=(0,e.WQX)(e.gRc),this.ngZone=(0,e.WQX)(e.SKi),this.defCog=(0,e.WQX)(Y,{optional:!0}),this.frequency=1e3,this._notify={},this.status=f.ing,this.isDestroy=!1,this.i={},this.left=0,this.event=new e.bkB}set config(t){null!=t.notify&&!Array.isArray(t.notify)&&t.notify>0&&(t.notify=[t.notify]),this._config=t}get config(){return this._config}begin(){this.status=f.ing,this.callEvent("start")}restart(){this.status!==f.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==f.stop&&(this.status=f.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status===f.stop||this.status===f.pause||(this.status=f.pause,this.callEvent("pause"))}resume(){this.status===f.stop||this.status!==f.pause||(this.status=f.ing,this.callEvent("resume"))}callEvent(t){this.event.emit({action:t,left:this.left,status:this.status,text:this.i.text})}init(){const t=this.config={demand:!1,leftTime:0,format:"HH:mm:ss",timezone:"+0000",formatDate:({date:s,formatStr:c,timezone:m})=>(0,u.Yq)(new Date(s),c,this.locale,m||"+0000"),...this.defCog,...this.config},r=this.frequency=~t.format.indexOf("S")?100:1e3;this.status=t.demand?f.pause:f.ing,this.getLeft();const n=this.reflow;this.reflow=(s=0,c=!1)=>n.apply(this,[s,c]),Array.isArray(t.notify)&&t.notify.forEach(s=>{if(s<1)throw new Error("The notify config must be a positive integer.");s*=1e3,this._notify[s-=s%r]=!0}),this.timer.add(this.reflow,r).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(t=0,r=!1){if(this.isDestroy)return;const{status:n,config:s,_notify:c}=this;if(!r&&n!==f.ing)return;let m=this.left=this.left-this.frequency*t;m<1&&(m=0),this.i={value:m,text:s.formatDate({date:m,formatStr:s.format,timezone:s.timezone})},"function"==typeof s.prettyText&&(this.i.text=s.prettyText(this.i.text)),this.cdr.detectChanges(),(0===s.notify||c[m])&&this.ngZone.run(()=>{this.callEvent("notify")}),0===m&&this.ngZone.run(()=>{this.status=f.done,this.destroy(),this.callEvent("done")})}getLeft(){const{config:t,frequency:r}=this;let n=1e3*t.leftTime;const s=t.stopTime;!n&&s&&(n=s-(new Date).getTime()),this.left=n-n%r}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(t){t.config.firstChange||this.restart()}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["countdown"]],hostVars:2,hostBindings:function(r,n){2&r&&e.AVh("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},standalone:!0,features:[e.Jv_([$]),e.OA$,e.aNF],decls:2,vars:1,consts:[[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,n){1&r&&e.DNE(0,W,1,4,"ng-container")(1,H,1,1,"span",0),2&r&&e.vxM(n.render?0:1)},dependencies:[u.T3],styles:[".count-down{font-variant-numeric:tabular-nums}\n"],encapsulation:2,changeDetection:0})}return o})(),Z=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.$C({type:o});static#r=this.\u0275inj=e.G2t({})}return o})();var V=l(5623),N=l(7418),x=l(4535),_=l(2102),y=l(5596);const Q=()=>({length:5,allowNumbersOnly:!0}),ee=()=>({leftTime:60,format:"mm:ss"});function te(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",4)(1,"mat-card",5)(2,"mat-card-header")(3,"mat-card-title",6),e.EFF(4,"OTP Verification"),e.k0s()(),e.j41(5,"mat-card-content",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ng-otp-input",11),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.otpCode,n)||(s.otpCode=n),e.Njj(n)}),e.bIt("onInputChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onOtpChange(n))}),e.k0s()(),e.j41(10,"div",12)(11,"span",13),e.EFF(12," Enter OTP code sent to +9471****123 "),e.k0s()(),e.j41(13,"div",14)(14,"span",15)(15,"countdown",16),e.bIt("event",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.handleEvent(n))}),e.k0s()()()()()(),e.j41(16,"mat-card-actions")(17,"div",8)(18,"div",9)(19,"div",17)(20,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.proceedToVerify())}),e.EFF(21," Verify & Proceed "),e.k0s()(),e.j41(22,"div",17),e.EFF(23," Didn't recive the verification OTP? "),e.j41(24,"a",19),e.EFF(25,"Click me"),e.k0s()()()()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.otpCode),e.Y8G("config",e.lJ4(4,Q)),e.R7$(6),e.Y8G("config",e.lJ4(5,ee)),e.R7$(5),e.Y8G("disabled",!t.enableVerify)}}function re(o,a){if(1&o&&(e.j41(0,"div",20)(1,"div",9)(2,"div",21)(3,"mat-label",22),e.EFF(4),e.k0s(),e.j41(5,"mat-label",23),e.EFF(6),e.k0s()(),e.j41(7,"div",21),e.nrm(8,"img",24),e.k0s()()()),2&o){const t=e.XpG();e.R7$(4),e.JRh(t.otpSuccessTitle),e.R7$(2),e.JRh(t.otpSuccessMessage)}}let X=(()=>{class o{constructor(t,r,n,s,c){this.apiService=t,this.storageService=r,this.alertService=n,this.fullPageLoaderService=s,this.router=c,this.otpVerifyEvent=new e.bkB,this.otpCode="",this.enableVerify=!0,this.showVerify=!0,this.enableSuccess=!1,this.userIdEncoded="",this.otpSuccessMessage="Please wait for admin approval to proceed.",this.otpSuccessTitle="Your registration was successful"}onOtpChange(t){console.log(t),this.otpCode=t,this.enableVerify=5===this.otpCode.length}proceedToVerify(){if(5!==this.otpCode.length)return void console.error("Form is invalid");this.fullPageLoaderService.setLoadingStatus(!0);const t={user_id:this.storageService.getItem("user"),otp:this.otpCode,otp_type:this.otpType};this.apiService.verifyOtp(t).subscribe({next:r=>{console.log("OTP Verification successful:",r),this.onSuccessOtpVerification(r.data)},error:r=>{this.fullPageLoaderService.setLoadingStatus(!1),console.error("Registration failed:",r),this.alertService.errorAlert("center","OTP Verification failed","",3e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("OTP request completed.")}})}onSuccessOtpVerification(t){switch(this.showVerify=!1,this.otpType){case g.REGISTER_OTP_PENDING:this.showSuccessRegisterModal(),this.enableSuccess=!0,this.otpSuccessMessage="Your registration was successful. Please wait for admin approval to proceed.";break;case g.LOGIN_OTP_PENDING:this.showSuccessLoginToaster(),this.storageService.setItem("token",t),this.otpVerifyEvent.emit({data:"",status:!0,type:g.LOGIN_OTP_PENDING});break;case g.FORGET_PASSWORD_OTP_PENDING:this.showSuccessLoginToaster(),this.storageService.setItem("token",t),this.otpVerifyEvent.emit({data:"",status:!0,type:g.FORGET_PASSWORD_OTP_VERIFIED})}}showSuccessLoginToaster(){this.alertService.successToster("top-end","Welcome, You\u2019ve been successfully verified",6e3)}showSuccessRegisterModal(){this.alertService.successAlert("center","Registration Successful!","Your account has been created successfully. \u{1f680} You will receive an SMS once it's activated. Thank you for your patience!",7e3,!1,!1,!1)}handleEvent(t){console.log(t)}static#e=this.\u0275fac=function(r){return new(r||o)(e.rXU(I),e.rXU(V.n),e.rXU(N.I),e.rXU(x.J),e.rXU(d.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-otp"]],inputs:{otpType:"otpType"},outputs:{otpVerifyEvent:"otpVerifyEvent"},standalone:!0,features:[e.Jv_([I]),e.aNF],decls:4,vars:2,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],["class","col-lg-4 d-flex align-items-center",4,"ngIf"],["class","col-lg-4 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"m-b-0"],[1,"p-32","align-items-center","justify-content-center"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-12","col-lg-12",2,"display","ruby"],[3,"ngModelChange","onInputChange","ngModel","config"],[1,"col-md-12","col-sm-12","col-lg-12"],[1,"d-block","f-w-500","m-t-24","text-center"],[1,"col-md-12","col-sm-12","col-lg-12","text-center"],[1,"d-block","f-w-500","m-t-24"],[3,"event","config"],[1,"col-md-12","col-sm-6","col-lg-12"],["mat-flat-button","","color","primary",1,"w-100",3,"click","disabled"],[1,"text-link"],[1,"col-lg-4","d-flex","justify-content-center","align-items-center"],[1,"col-md-12","col-lg-12","col-sm-12"],[1,"f-s-24","f-w-600","m-b-12","d-block","text-center"],[1,"mat-subtitle-2","f-s-16","f-w-600","m-b-12","d-block","text-center"],["src","./assets/images/backgrounds/otp-success.png","alt","Young Man Euphoric Gesture Celebrate Victory"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,te,26,6,"div",2)(3,re,9,2,"div",3),e.k0s()()),2&r&&(e.R7$(2),e.Y8G("ngIf",n.showVerify),e.R7$(),e.Y8G("ngIf",n.enableSuccess))},dependencies:[j,S,u.MD,u.bT,d.iI,C.G,_.nJ,y.RN,y.YY,y.m2,y.MM,y.dh,h.$z,i.YN,i.BC,i.vS,i.X1,h.Hl,Z,z],styles:["ngx-loading[_ngcontent-%COMP%]   .spinner-three-bouncee[_ngcontent-%COMP%]{width:90px!important}ngx-loading[_ngcontent-%COMP%]   .spinner-three-bounce[_ngcontent-%COMP%]{width:26px!important;height:26px!important}.text-link[_ngcontent-%COMP%]{text-decoration:underline;color:#3535e6;background:none;border:none;font-weight:600!important;padding:0;font:inherit;cursor:pointer}"]})}return o})();var k=l(5505);class D{static handleErrorAndGetAlertData(a){return a.erroroCode===k.z.DEACTIVE?{position:"center",text:"Your account Deactivated by ADMIN",timer:4e3,title:"Access denied",allowEnterKey:!0,allowEscapeKey:!0,allowOutsideClick:!0,hasTimer:!0,confirmButtonText:"Ok",showCancelButton:!1,showConfirmButton:!1}:a.erroroCode===k.z.REGISTRATION_OTP_VERIFICATION_PENDING?{position:"center",text:"Your account was previously created, but the verification process is not yet complete.",title:"Hay, We got you!",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,timer:null,hasTimer:!1,confirmButtonText:"Verify My Account",showCancelButton:!0,showConfirmButton:!0}:a.erroroCode===k.z.ADMIN_VERIFICATION_PENDING?{position:"center",text:"Your account not verified by ADMIN",title:"Access denied",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,timer:4e3,hasTimer:!0,confirmButtonText:"Ok",showCancelButton:!1,showConfirmButton:!1}:{position:"center",text:"Login error",title:"",allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,timer:4e3,hasTimer:!0,confirmButtonText:"Ok",showCancelButton:!1,showConfirmButton:!1}}}var U=l(7224),J=l(7780),L=l(9631),B=l(9213),q=l(4823);const ne=()=>["/dashboard"];function oe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Old Password is required. "),e.k0s())}function se(o,a){1&o&&(e.j41(0,"mat-icon",16),e.EFF(1," error "),e.k0s())}function ie(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," New Password is required. "),e.k0s())}function ae(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Confirm Password is required. "),e.k0s())}function le(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Passwords do not match. "),e.k0s())}let ce=(()=>{class o{constructor(t,r,n){this.alertService=t,this.apiService=r,this.fullPageLoaderService=n,this.passwordRestOutputEvent=new e.bkB,this.form=new i.gE({old_password:new i.MJ("",[i.k0.required]),new_password:new i.MJ("",[i.k0.required,i.k0.minLength(8),i.k0.pattern(/^(?=.*[A-Z])(?=.*\d)(?=.*[a-zA-Z]).{8,}$/)]),confirm_password:new i.MJ("",[i.k0.required])},{validators:J.R.passwordMatchValidator})}submit(){this.form.invalid?console.error("Form is invalid"):(this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.passwordReset({old_password:this.form.value.old_password,new_password:this.form.value.new_password,confirm_password:this.form.value.confirm_password}).subscribe({next:r=>{console.log("Password successful:",r),this.alertService.successToster("top-end","Your password has been successfully reset!",5e3),this.passwordRestOutputEvent.emit(!0)},error:r=>{this.fullPageLoaderService.setLoadingStatus(!1),console.error("Password rest failed:",r),this.alertService.errorAlert("center","Password rest failed","",3e3,!1,"",!1),this.passwordRestOutputEvent.emit(!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Password reset request completed.")}}))}get f(){return this.form.controls}static#e=this.\u0275fac=function(r){return new(r||o)(e.rXU(N.I),e.rXU(I),e.rXU(x.J))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-password-reset"]],outputs:{passwordRestOutputEvent:"passwordRestOutputEvent"},standalone:!0,features:[e.aNF],decls:27,vars:9,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","p-t-20","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],[1,"m-t-30",3,"formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","old_password","type","password"],[4,"ngIf"],["matInput","","formControlName","new_password","type","password"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password",4,"ngIf"],["matInput","","formControlName","confirm_password","type","password","placeholder","Confirm your password"],["mat-flat-button","","color","primary",1,"w-100",3,"click","disabled"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5),e.nrm(6,"a",6),e.k0s(),e.j41(7,"form",7)(8,"mat-label",8),e.EFF(9,"Old Password"),e.k0s(),e.j41(10,"mat-form-field",9),e.nrm(11,"input",10),e.DNE(12,oe,2,0,"mat-error",11),e.k0s(),e.j41(13,"mat-label",8),e.EFF(14,"New Password"),e.k0s(),e.j41(15,"mat-form-field",9),e.nrm(16,"input",12),e.DNE(17,se,2,0,"mat-icon",13)(18,ie,2,0,"mat-error",11),e.k0s(),e.j41(19,"mat-label",8),e.EFF(20,"Confirm Password"),e.k0s(),e.j41(21,"mat-form-field",9),e.nrm(22,"input",14),e.DNE(23,ae,2,0,"mat-error",11)(24,le,2,0,"mat-error",11),e.k0s(),e.j41(25,"button",15),e.bIt("click",function(){return n.submit()}),e.EFF(26," Reset Password "),e.k0s()()()()()()()),2&r&&(e.R7$(6),e.Y8G("routerLink",e.lJ4(8,ne)),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(5),e.Y8G("ngIf",n.f.old_password.hasError("required")&&(n.f.old_password.touched||n.f.old_password.dirty)),e.R7$(5),e.Y8G("ngIf",n.f.new_password.invalid&&(n.f.new_password.touched||n.f.new_password.dirty)),e.R7$(),e.Y8G("ngIf",n.f.new_password.hasError("required")&&(n.f.new_password.touched||n.f.new_password.dirty)),e.R7$(5),e.Y8G("ngIf",n.f.confirm_password.hasError("required")&&(n.f.confirm_password.touched||n.f.confirm_password.dirty)),e.R7$(),e.Y8G("ngIf",n.f.confirm_password.hasError("passwordsMismatch")&&(n.f.confirm_password.touched||n.f.confirm_password.dirty)),e.R7$(),e.Y8G("disabled",n.form.invalid))},dependencies:[u.MD,u.bT,d.iI,d.Wk,C.G,_.rl,_.nJ,_.TL,_.yw,L.fg,y.RN,y.m2,h.$z,B.An,q.oV,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,U.y]})}return o})();var ue=l(2765);const de=()=>["/dashboard"];function pe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Email is required. "),e.k0s())}function fe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid email address. "),e.k0s())}function me(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Password is required. "),e.k0s())}function he(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"mat-card-content",5)(6,"div",6),e.nrm(7,"a",7),e.k0s(),e.j41(8,"form",8)(9,"mat-label",9),e.EFF(10,"Username"),e.k0s(),e.j41(11,"mat-form-field",10),e.nrm(12,"input",11),e.DNE(13,pe,2,0,"mat-error",0)(14,fe,2,0,"mat-error",0),e.k0s(),e.j41(15,"mat-label",9),e.EFF(16,"Password"),e.k0s(),e.j41(17,"mat-form-field",10)(18,"input",12),e.bIt("keydown.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.submit())}),e.k0s(),e.j41(19,"mat-icon",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showHidePassword())}),e.EFF(20),e.k0s(),e.DNE(21,me,2,0,"mat-error",0),e.k0s(),e.j41(22,"div",14)(23,"mat-checkbox",15),e.EFF(24,"Remember this Device"),e.k0s(),e.j41(25,"a",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigateToForgotPassword())}),e.EFF(26,"Forgot Password ?"),e.k0s()(),e.j41(27,"a",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.submit())}),e.EFF(28," Sign In "),e.k0s()(),e.j41(29,"span",18),e.EFF(30,"New to Lawyercloud? "),e.j41(31,"a",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigateToRegister())}),e.EFF(32," Create an account"),e.k0s()()()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("routerLink",e.lJ4(7,de)),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",t.f.uname.hasError("required")&&(t.f.uname.touched||t.f.uname.dirty)),e.R7$(),e.Y8G("ngIf",t.f.uname.hasError("email")&&(t.f.uname.touched||t.f.uname.dirty)),e.R7$(4),e.Y8G("type",t.hidePassword?"password":"text"),e.R7$(2),e.JRh(t.hidePassword?"visibility_off":"visibility"),e.R7$(),e.Y8G("ngIf",t.f.password.hasError("required")&&(t.f.password.touched||t.f.password.dirty))}}function ge(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Email is required. "),e.k0s())}function _e(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid email address. "),e.k0s())}function we(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"mat-card-content",5)(6,"div",6),e.EFF(7," Enter your email to reset password "),e.k0s(),e.j41(8,"form",8)(9,"mat-label",9),e.EFF(10,"Username"),e.k0s(),e.j41(11,"mat-form-field",10),e.nrm(12,"input",11),e.DNE(13,ge,2,0,"mat-error",0)(14,_e,2,0,"mat-error",0),e.k0s(),e.j41(15,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.passwordResetFlow())}),e.EFF(16," Reset password "),e.k0s(),e.j41(17,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.backToLogin())}),e.EFF(18," Back to Sign In "),e.k0s()()()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("formGroup",t.formPasswordReset),e.R7$(5),e.Y8G("ngIf",t.fReset.uname.hasError("required")&&(t.fReset.uname.touched||t.fReset.uname.dirty)),e.R7$(),e.Y8G("ngIf",t.fReset.uname.hasError("email")&&(t.fReset.uname.touched||t.fReset.uname.dirty)),e.R7$(),e.Y8G("disabled",t.formPasswordReset.invalid)}}function ve(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"app-otp",22),e.bIt("otpVerifyEvent",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onOtpVerifyEvent(n))}),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("otpType",t.otpType)}}function ye(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"app-password-reset",23),e.bIt("passwordRestOutputEvent",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onPasswordRestOutputEvent(n))}),e.k0s(),e.bVm()}}let Ee=(()=>{class o{constructor(t,r,n,s,c){this.router=t,this.alertService=r,this.apiService=n,this.storageService=s,this.fullPageLoaderService=c,this.hidePassword=!0,this.otpType=g.LOGIN_OTP_PENDING,this.isLoginEnable=!0,this.isOtpEnable=!1,this.isResetPasswordEnable=!1,this.isFrogetPasswordEnable=!1,this.form=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.minLength(6)]),password:new i.MJ("",[i.k0.required])}),this.formPasswordReset=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.email])}),this.form=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.email]),password:new i.MJ("",[i.k0.required])})}get f(){return this.form.controls}get fReset(){return this.formPasswordReset.controls}submit(){this.form.invalid?console.error("Form is invalid"):(this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.loginUser({email:this.form.value.uname,password:this.form.value.password}).subscribe({next:r=>{console.log("Login successful and OTP verification pending:",r),this.isOtpEnable=!0,this.isLoginEnable=!1,this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",r.data.user_id)},error:r=>{if(this.fullPageLoaderService.setLoadingStatus(!1),console.error("Login failed:",r),r&&r.error&&r.error.erroroCode){let n=D.handleErrorAndGetAlertData(r.error);r.error.erroroCode===k.z.REGISTRATION_OTP_VERIFICATION_PENDING?(this.otpType=g.REGISTER_OTP_PENDING,this.alertService.confirmAlert(n.title,n.text,"warning",n.showCancelButton,"No",n.showConfirmButton,n.confirmButtonText,!1,this.calbackForPendingRegisterOtpVerification.bind(this,"")),this.storageService.setItem("user",r.error.data)):this.alertService.errorAlert("center",n.title,n.text,n.timer,n.showCancelButton,n.confirmButtonText,n.showConfirmButton)}else this.alertService.errorAlert("center","Login failed",r?.error?.message?r.error.message:"",4e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Login request completed.")}}))}passwordResetFlow(){this.formPasswordReset.controls.uname.valid?(this.otpType=g.FORGET_PASSWORD_OTP_PENDING,this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.passwordResetOtp({email:this.formPasswordReset.value.uname}).subscribe({next:r=>{console.log("Password reset successful and OTP verification pending:",r),this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",r.data.user_id),this.isOtpEnable=!0,this.isLoginEnable=!1,this.isResetPasswordEnable=!1},error:r=>{if(this.fullPageLoaderService.setLoadingStatus(!1),console.error("Password resetn failed:",r),r&&r.error&&r.error.erroroCode){let n=D.handleErrorAndGetAlertData(r.error);r.error.erroroCode===k.z.REGISTRATION_OTP_VERIFICATION_PENDING?(this.alertService.confirmAlert(n.title,n.text,"warning",n.showCancelButton,"No",n.showConfirmButton,n.confirmButtonText,!1,this.calbackForPendingRegisterOtpVerification.bind(this,r.error.data)),this.storageService.setItem("user",r.error.data)):this.alertService.errorAlert("center",n.title,n.text,n.timer,n.showCancelButton,n.confirmButtonText,n.showConfirmButton)}else this.alertService.errorAlert("center","Password reset failed",r?.error?.message?r.error.message:"",4e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Password reset request completed.")}})):this.alertService.errorToaster("top-end","Please enter valid email address")}calbackForPendingRegisterOtpVerification(t){this.formPasswordReset.controls.uname.valid?(this.otpType=g.REGISTER_OTP_PENDING,this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.resendOtp({email:this.formPasswordReset.value.uname,user_id:t,otp_type:this.otpType}).subscribe({next:n=>{console.log("Register OTP verification pending:",n),this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",n.data.user_id),this.isOtpEnable=!0,this.isLoginEnable=!1,this.isResetPasswordEnable=!1,this.isFrogetPasswordEnable=!1},error:n=>{if(this.fullPageLoaderService.setLoadingStatus(!1),console.error("Register OTP sending failed:",n),n&&n.error&&n.error.erroroCode){let s=D.handleErrorAndGetAlertData(n.error);this.alertService.errorAlert("center",s.title,s.text,s.timer,s.showCancelButton,s.confirmButtonText,s.showConfirmButton)}else this.alertService.errorAlert("center","OTP sending failed",n?.error?.message?n.error.message:"",4e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Register OTP request completed.")}})):this.alertService.errorToaster("top-end","Please enter valid email address")}navigateToForgotPassword(){this.isFrogetPasswordEnable=!1,this.isOtpEnable=!1,this.isLoginEnable=!1,this.isResetPasswordEnable=!0}onOtpVerifyEvent(t){console.log(t),this.otpType===g.LOGIN_OTP_PENDING?this.navigateToHome():(this.isFrogetPasswordEnable=!1,this.isOtpEnable=!1,this.isLoginEnable=!1,this.isResetPasswordEnable=!0)}onPasswordRestOutputEvent(t){console.log(t),t&&this.backToLogin()}backToLogin(){this.isFrogetPasswordEnable=!1,this.isOtpEnable=!1,this.isLoginEnable=!0,this.isResetPasswordEnable=!1}navigateToRegister(){this.router.navigate(["/authentication/register"])}navigateToHome(){this.router.navigate(["/dashboard"])}showHidePassword(){this.hidePassword=!this.hidePassword}static#e=this.\u0275fac=function(r){return new(r||o)(e.rXU(d.Ix),e.rXU(N.I),e.rXU(I),e.rXU(V.n),e.rXU(x.J))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-side-login"]],standalone:!0,features:[e.Jv_([I]),e.aNF],decls:4,vars:4,consts:[[4,"ngIf"],[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],[1,"m-t-30",3,"formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","uname","type","email","placeholder","Enter User name"],["matInput","","formControlName","password","placeholder","Enter your password",3,"keydown.enter","type"],["matSuffix","",1,"show-hide-icon",3,"click"],[1,"d-flex","align-items-center","m-b-12"],["color","primary"],[1,"cursor-pointer","text-primary","f-w-600","text-decoration-none","m-l-auto","f-s-14",3,"click"],["mat-flat-button","","color","primary",1,"w-100",3,"click"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","cursor-pointer","text-primary","f-w-500","f-s-14",3,"click"],["mat-flat-button","","color","primary",1,"w-100","m-b-5",3,"click","disabled"],["type","button","mat-stroked-button","",1,"w-100","m-t-15",3,"click"],[3,"otpVerifyEvent","otpType"],[3,"passwordRestOutputEvent"]],template:function(r,n){1&r&&e.DNE(0,he,33,8,"ng-container",0)(1,we,19,4,"ng-container",0)(2,ve,2,1,"ng-container",0)(3,ye,2,0,"ng-container",0),2&r&&(e.Y8G("ngIf",n.isLoginEnable),e.R7$(),e.Y8G("ngIf",n.isResetPasswordEnable),e.R7$(),e.Y8G("ngIf",n.isOtpEnable),e.R7$(),e.Y8G("ngIf",n.isFrogetPasswordEnable))},dependencies:[u.MD,u.bT,d.iI,d.Wk,C.G,ue.So,_.rl,_.nJ,_.TL,_.yw,L.fg,y.RN,y.m2,h.It,h.$z,B.An,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,h.Hl,X,ce],encapsulation:2})}return o})();var be=l(2155);const Ce=()=>["/dashboard"],Te=()=>["/authentication/login"];function Ie(o,a){if(1&o&&(e.qex(0),e.nrm(1,"app-otp",1),e.bVm()),2&o){const t=e.XpG();e.R7$(),e.Y8G("otpType",t.otpType)}}function Re(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Name is required. "),e.k0s())}function Se(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Name must be at least 6 characters long. "),e.k0s())}function Pe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Name cannot exceed 50 characters. "),e.k0s())}function Fe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Email is required. "),e.k0s())}function ke(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid email address. "),e.k0s())}function Ne(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Mobile number is required. "),e.k0s())}function xe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid 9-digit mobile number. "),e.k0s())}function Oe(o,a){1&o&&(e.j41(0,"mat-icon",23),e.EFF(1," error "),e.k0s())}function Ge(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Password is required. "),e.k0s())}function je(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Confirm Password is required. "),e.k0s())}function Ae(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Passwords do not match. "),e.k0s())}function Ve(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"mat-card",5)(5,"mat-card-content",6)(6,"div",7),e.nrm(7,"a",8),e.k0s(),e.j41(8,"form",9)(9,"mat-label",10),e.EFF(10,"Name"),e.k0s(),e.j41(11,"mat-form-field",11),e.nrm(12,"input",12),e.DNE(13,Re,2,0,"mat-error",0)(14,Se,2,0,"mat-error",0)(15,Pe,2,0,"mat-error",0),e.k0s(),e.j41(16,"mat-label",10),e.EFF(17,"Email Address"),e.k0s(),e.j41(18,"mat-form-field",11),e.nrm(19,"input",13),e.DNE(20,Fe,2,0,"mat-error",0)(21,ke,2,0,"mat-error",0),e.k0s(),e.j41(22,"mat-label",10),e.EFF(23,"Mobile Number"),e.k0s(),e.j41(24,"mat-form-field",11)(25,"span",14),e.EFF(26,"+94 \xa0"),e.k0s(),e.nrm(27,"input",15),e.DNE(28,Ne,2,0,"mat-error",0)(29,xe,2,0,"mat-error",0),e.k0s(),e.j41(30,"mat-label",10),e.EFF(31,"Password"),e.k0s(),e.j41(32,"mat-form-field",11),e.nrm(33,"input",16),e.DNE(34,Oe,2,0,"mat-icon",17),e.j41(35,"mat-icon",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showHidePassword())}),e.EFF(36),e.k0s(),e.DNE(37,Ge,2,0,"mat-error",0),e.k0s(),e.j41(38,"mat-label",10),e.EFF(39,"Confirm Password"),e.k0s(),e.j41(40,"mat-form-field",11)(41,"input",19),e.bIt("keydown.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.submit())}),e.k0s(),e.j41(42,"mat-icon",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showHideConfirmPassword())}),e.EFF(43),e.k0s(),e.DNE(44,je,2,0,"mat-error",0)(45,Ae,2,0,"mat-error",0),e.k0s(),e.j41(46,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.submit())}),e.EFF(47," Sign Up "),e.k0s()(),e.j41(48,"span",21),e.EFF(49,"Already have an Account? "),e.j41(50,"a",22),e.EFF(51," Sign In"),e.k0s()()()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("routerLink",e.lJ4(19,Ce)),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",t.f.name.hasError("required")&&(t.f.name.touched||t.f.name.dirty)),e.R7$(),e.Y8G("ngIf",t.f.name.hasError("minlength")&&(t.f.name.touched||t.f.name.dirty)),e.R7$(),e.Y8G("ngIf",t.f.name.hasError("maxlength")&&(t.f.name.touched||t.f.name.dirty)),e.R7$(5),e.Y8G("ngIf",t.f.email.hasError("required")&&(t.f.email.touched||t.f.email.dirty)),e.R7$(),e.Y8G("ngIf",t.f.email.hasError("email")&&(t.f.email.touched||t.f.email.dirty)),e.R7$(7),e.Y8G("ngIf",t.f.mobileNumber.hasError("required")&&(t.f.mobileNumber.touched||t.f.mobileNumber.dirty)),e.R7$(),e.Y8G("ngIf",t.f.mobileNumber.hasError("pattern")&&(t.f.mobileNumber.touched||t.f.mobileNumber.dirty)),e.R7$(4),e.Y8G("type",t.hidePassword?"password":"text"),e.R7$(),e.Y8G("ngIf",t.f.password.invalid&&(t.f.password.touched||t.f.password.dirty)),e.R7$(2),e.JRh(t.hidePassword?"visibility_off":"visibility"),e.R7$(),e.Y8G("ngIf",t.f.password.hasError("required")&&(t.f.password.touched||t.f.password.dirty)),e.R7$(4),e.Y8G("type",t.hideConfirmPassword?"password":"text"),e.R7$(2),e.JRh(t.hidePassword?"visibility_off":"visibility"),e.R7$(),e.Y8G("ngIf",t.f.confirmPassword.hasError("required")&&(t.f.confirmPassword.touched||t.f.confirmPassword.dirty)),e.R7$(),e.Y8G("ngIf",t.f.confirmPassword.hasError("passwordsMismatch")&&(t.f.confirmPassword.touched||t.f.confirmPassword.dirty)),e.R7$(),e.Y8G("disabled",t.form.invalid),e.R7$(4),e.Y8G("routerLink",e.lJ4(20,Te))}}const De=[{path:"",children:[{path:"login",component:Ee},{path:"register",component:(()=>{class o{constructor(t,r,n,s,c){this.router=t,this.alertService=r,this.apiService=n,this.storageService=s,this.fullPageLoaderService=c,this.hideConfirmPassword=!0,this.hidePassword=!0,this.isRegisterEnable=!0,this.isOtpEnable=!1,this.otpType=g.REGISTER_OTP_PENDING,this.form=new i.gE({name:new i.MJ("",[i.k0.required,i.k0.minLength(3),i.k0.maxLength(50)]),email:new i.MJ("",[i.k0.required,i.k0.email]),mobileNumber:new i.MJ("",[i.k0.required,i.k0.pattern(/^\d{9}$/)]),password:new i.MJ("",[i.k0.required,i.k0.minLength(8),i.k0.pattern(/^(?=.*[A-Z])(?=.*\d)(?=.*[a-zA-Z]).{8,}$/)]),confirmPassword:new i.MJ("",[i.k0.required])},{validators:J.R.passwordMatchValidator})}get f(){return this.form.controls}submit(){this.form.invalid?console.error("Form is invalid"):(this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.registerUser({name:this.form.value.name,email:this.form.value.email,mobileNumber:`+94${this.form.value.mobileNumber}`,password:this.form.value.password}).subscribe({next:r=>{console.log("Registration successful:",r),this.isOtpEnable=!0,this.isRegisterEnable=!1,this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",r.data.user_id)},error:r=>{this.fullPageLoaderService.setLoadingStatus(!1),console.error("Registration failed:",r),r.error.errorCode===be.C.ALREADY_EXIST?this.alertService.confirmAlert("Hay we know you!","You have registered befor with this email","info",!0,"No",!0,"Try SignIn",!1,this.calbackForPendingRegisterOtpVerification.bind(this)):this.alertService.errorAlert("center","Registration failed","",3e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Registration request completed.")}}))}calbackForPendingRegisterOtpVerification(){this.router.navigate(["/authentication/login"])}showHideConfirmPassword(){this.hideConfirmPassword=!this.hideConfirmPassword}showHidePassword(){this.hidePassword=!this.hidePassword}static#e=this.\u0275fac=function(r){return new(r||o)(e.rXU(d.Ix),e.rXU(N.I),e.rXU(I),e.rXU(V.n),e.rXU(x.J))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-side-register"]],standalone:!0,features:[e.Jv_([I]),e.aNF],decls:2,vars:2,consts:[[4,"ngIf"],[3,"otpType"],[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","p-t-20","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],[1,"m-t-30",3,"formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","name","placeholder","Enter your name"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matTextPrefix",""],["matInput","","formControlName","mobileNumber","type","tel","placeholder","71-222-2222"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password",4,"ngIf"],["matSuffix","",1,"show-hide-icon",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm your password",3,"keydown.enter","type"],["mat-flat-button","","color","primary",1,"w-100",3,"click","disabled"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password"]],template:function(r,n){1&r&&e.DNE(0,Ie,2,1,"ng-container",0)(1,Ve,52,21,"ng-container",0),2&r&&(e.Y8G("ngIf",n.isOtpEnable&&!n.isRegisterEnable),e.R7$(),e.Y8G("ngIf",n.isRegisterEnable&&!n.isOtpEnable))},dependencies:[u.MD,u.bT,d.iI,d.Wk,C.G,_.rl,_.nJ,_.TL,_.JW,_.yw,L.fg,y.RN,y.m2,h.$z,B.An,q.oV,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,U.y,X],encapsulation:2})}return o})()}]}]}}]);