"use strict";(self.webpackChunkdocument_management_system_lw_frontend=self.webpackChunkdocument_management_system_lw_frontend||[]).push([[903],{3903:(Le,F,c)=>{c.r(F),c.d(F,{AuthenticationRoutes:()=>Ve});var i=c(9417),g=c(2168),b=c(7722),_=c(8834),p=c(177),e=c(3953),T=c(1413),A=c(6977);const D=o=>({"error-input":o});function B(o,a){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.config.separator," ")}}function M(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"input",5,0),e.bIt("paste",function(r){e.eBV(t);const s=e.XpG(2);return e.Njj(s.handlePaste(r))})("keyup",function(r){const s=e.eBV(t).index,l=e.XpG(2);return e.Njj(l.onKeyUp(r,s))})("input",function(r){const s=e.eBV(t).index,l=e.XpG(2);return e.Njj(l.onInput(r,s))})("keydown",function(r){const s=e.eBV(t).index,l=e.XpG(2);return e.Njj(l.onKeyDown(r,s))}),e.k0s(),e.DNE(3,B,2,1,"span",6),e.bVm()}if(2&o){const t=a.$implicit,n=a.index,r=a.last,s=e.XpG(2);e.R7$(),e.ZvI("otp-input ",s.config.inputClass,""),e.Y8G("pattern",s.config.allowNumbersOnly?"\\d*":"")("type",s.inputType)("placeholder",(null==s.config?null:s.config.placeholder)||"")("ngStyle",s.config.inputStyles)("formControl",s.otpForm.controls[t])("id",s.getBoxId(n))("ngClass",e.eq3(11,D,(null==s.config?null:s.config.showError)&&(null==s.formCtrl?null:s.formCtrl.invalid)&&((null==s.formCtrl?null:s.formCtrl.dirty)||(null==s.formCtrl?null:s.formCtrl.touched)))),e.R7$(2),e.Y8G("ngIf",s.config.separator&&!r)}}function Y(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",2),e.bIt("focusin",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onFocusIn())})("focusout",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.onFocusOut())}),e.j41(1,"div",3),e.DNE(2,M,4,13,"ng-container",4),e.k0s()()}if(2&o){const t=e.XpG();e.ZvI("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),e.Mz_("id","c_",t.componentKey,""),e.Y8G("ngStyle",t.config.containerStyles),e.R7$(2),e.Y8G("ngForOf",t.controlKeys)}}class v{static ifTab(a){return this.ifKey(a,"Tab")}static ifDelete(a){return this.ifKey(a,"Delete;Del")}static ifBackspace(a){return this.ifKey(a,"Backspace")}static ifRightArrow(a){return this.ifKey(a,"ArrowRight;Right")}static ifLeftArrow(a){return this.ifKey(a,"ArrowLeft;Left")}static ifSpacebar(a){return this.ifKey(a,"Spacebar; ")}static ifKey(a,t){return t.split(";").some(r=>r===a.key)}}class R{static keys(a){return a?Object.keys(a):[]}}let N=(()=>{class o{set disabled(t){this.setDisabledState(t)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}get controlKeys(){return R.keys(this.otpForm?.controls)}constructor(t){this.document=t,this.config={length:4},this.onBlur=new T.B,this.onInputChange=new T.B,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36),this.destroy$=new T.B,this.activeFocusCount=0,this.onChange=()=>{},this.onTouched=()=>{},this._isDisabled=!1}ngOnInit(){this.otpForm=new i.gE({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new i.MJ);this.otpForm.valueChanges.pipe((0,A.Q)(this.destroy$)).subscribe(t=>{R.keys(this.otpForm.controls).forEach(n=>{var r=this.otpForm.controls[n].value;r&&r.length>1&&(r.length>=this.config.length?this.setValue(r):this.rebuildValue())})})}setDisabledState(t){this._isDisabled=t,this.otpForm&&(t?this.otpForm.disable({emitEvent:!1}):this.otpForm.enable({emitEvent:!1}))}writeValue(t){this.currentVal=t||null,this.otpForm&&this.currentVal&&this.setValue(this.currentVal)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onFocusIn(){this.onTouched(),this.activeFocusCount++}onFocusOut(){setTimeout(()=>{this.activeFocusCount--,0===this.activeFocusCount&&(this.onTouched(),this.onBlur.next())},0)}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const n=t.getElementsByClassName("otp-input")[0];n&&n.focus&&n.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,n){const r=this.getBoxId(n-1),s=this.getBoxId(n),l=this.getBoxId(n+1);if(v.ifSpacebar(t))return t.preventDefault(),!1;if(v.ifBackspace(t))return t.target.value?this.clearInput(s,n):(this.clearInput(r,n-1),this.setSelected(r)),void this.rebuildValue();if(v.ifDelete(t))return t.target.value?this.clearInput(s,n):(this.clearInput(r,n-1),this.setSelected(r)),void this.rebuildValue();if(this.ifValidKeyCode(t)){t.target.value=t.key;let d=this.getControlName(n);this.otpForm.controls[d]?.setValue(t.key),t.preventDefault(),this.setSelected(l),this.rebuildValue()}}onInput(t,n){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value=null,t.stopPropagation(),t.preventDefault(),void this.clearInput(null,n)}onKeyUp(t,n){v.ifTab(t)&&(n-=1);const r=this.getBoxId(n+1),s=this.getBoxId(n-1);return v.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(r)):v.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(s)):void 0}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,n){let r=this.getControlName(n);if(this.otpForm.controls[r]?.setValue(null),t){const s=this.document.getElementById(t);s&&s instanceof HTMLInputElement&&(s.value=null)}}setSelected(t){this.focusTo(t);const n=this.document.getElementById(t);n&&n.setSelectionRange&&setTimeout(()=>{n.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const n=t.key;return this.config?.allowNumbersOnly?this.validateNumber(n):/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/^[a-zA-Z0-9%*_\-@#$!]$/.test(n)&&1==n.length}focusTo(t){const n=this.document.getElementById(t);n&&n.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();t=t.toString().replace(/\s/g,""),Array.from(t).forEach((n,r)=>{this.otpForm.get(this.getControlName(r))&&this.otpForm.get(this.getControlName(r)).setValue(n)}),this.config.disableAutoFocus||setTimeout(()=>{const n=this.document.getElementById(`c_${this.componentKey}`);var r=t.length<this.config.length?t.length:this.config.length-1;let s=n.getElementsByClassName("otp-input")[r];s&&s.focus&&setTimeout(()=>{s.focus()},1)},0),this.rebuildValue()}}rebuildValue(){let t=null;R.keys(this.otpForm.controls).forEach(n=>{let r=this.otpForm.controls[n].value;if(r){let s=r.length>1,l=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());r=r[0];let d=l?"upper"==this.config.letterCase.toLocaleLowerCase()?r.toUpperCase():r.toLowerCase():r;l&&d==r?l=!1:r=d,null==t?t=r:t+=r,(s||l)&&this.otpForm.controls[n].setValue(r)}}),this.currentVal!=t&&(this.currentVal=t,this.onChange(t),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.next(t))}handlePaste(t){let n=t.clipboardData||window.clipboardData;if(n)var r=n.getData("Text");t.stopPropagation(),t.preventDefault(),r&&(!this.config.allowNumbersOnly||this.validateNumber(r))&&this.setValue(r)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(p.qQ))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["ng-otp-input"],["ngx-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl",disabled:"disabled"},outputs:{onBlur:"onBlur",onInputChange:"onInputChange"},standalone:!0,features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>o),multi:!0}]),e.aNF],decls:1,vars:1,consts:[["inp",""],["tabindex","0",3,"class","id","ngStyle","focusin","focusout",4,"ngIf"],["tabindex","0",3,"focusin","focusout","id","ngStyle"],[1,"n-o-c"],[4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"paste","keyup","input","keydown","pattern","type","placeholder","ngStyle","formControl","id","ngClass"],[4,"ngIf"]],template:function(n,r){1&n&&e.DNE(0,Y,3,7,"div",1),2&n&&e.Y8G("ngIf",null==r.otpForm?null:r.otpForm.controls)},dependencies:[i.X1,i.me,i.BC,i.R_,i.l_,p.bT,p.pM,p.B3,p.YU],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]{margin:0 .51rem}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:first-child{margin-left:0}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:last-child{margin-right:0}.n-o-c[_ngcontent-%COMP%]{display:flex;align-items:center}.error-input[_ngcontent-%COMP%]{border-color:red}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]})}return o})(),X=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[N]})}return o})();var $=c(7843);let w=(()=>{class o{constructor(t){this.apiService=t}registerUser(t,n){return this.apiService.post("/auth/register",t,n)}loginUser(t,n){return this.apiService.post("/auth/login",t,n)}passwordResetOtp(t,n){return this.apiService.post("/auth/forget-password-otp",t,n)}passwordReset(t,n){return this.apiService.post("/auth/password-reset",t,n)}verifyOtp(t,n){return this.apiService.post("/auth/verify-otp",t,n)}resendOtp(t,n){return this.apiService.post("/auth/resend-otp",t,n)}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO($.Z))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})();var m=function(o){return o.LOGIN_OTP_PENDING="LOGIN_OTP_PENDING",o.REGISTER_OTP_PENDING="REGISTER_OTP_PENDING",o.LOGIN_OTP_VERIFIED="LOGIN_OTP_VERIFIED",o.REGISTER_OTP_VERIFIED="REGISTER_OTP_VERIFIED",o.FORGET_PASSWORD_OTP_PENDING="FORGET_PASSWORD_OTP_PENDING",o.FORGET_PASSWORD_OTP_VERIFIED="FORGET_PASSWORD_OTP_VERIFIED",o}(m||{});const q=o=>({$implicit:o});function U(o,a){1&o&&e.eu8(0)}function J(o,a){if(1&o&&e.DNE(0,U,1,0,"ng-container",1),2&o){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.render)("ngTemplateOutletContext",e.eq3(2,q,t.i))}}function K(o,a){if(1&o&&e.nrm(0,"span",0),2&o){const t=e.XpG();e.Y8G("innerHTML",t.i.text,e.npT)}}var u=function(o){return o[o.ing=0]="ing",o[o.pause=1]="pause",o[o.stop=2]="stop",o[o.done=3]="done",o}(u||{});let O=(()=>{class o{constructor(){this.ngZone=(0,e.WQX)(e.SKi),this.fns=[],this.commands=[],this.nextTime=0,this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let t=+new Date-this.nextTime;const n=1+Math.floor(t/100);t=100-t%100,this.nextTime+=100*n;for(let r=0,s=this.fns.length;r<s;r+=2){let l=this.fns[r+1];if(0===l)this.fns[r](n);else{l+=2*n-1;const d=Math.floor(l/20);d>0&&this.fns[r](d),this.fns[r+1]=l%20+1}}this.ing&&setTimeout(()=>this.process(),t)}add(t,n){return this.commands.push(()=>{this.fns.push(t),this.fns.push(1e3===n?1:0),this.ing=!0}),this}remove(t){return this.commands.push(()=>{const n=this.fns.indexOf(t);-1!==n&&this.fns.splice(n,2),this.ing=this.fns.length>0}),this}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})();const x=new e.nKC("COUNTDOWN_CONFIG");let W=(()=>{class o{constructor(){this.locale=(0,e.WQX)(e.xe9),this.timer=(0,e.WQX)(O),this.cdr=(0,e.WQX)(e.gRc),this.ngZone=(0,e.WQX)(e.SKi),this.defCog=(0,e.WQX)(x,{optional:!0}),this.frequency=1e3,this._notify={},this.status=u.ing,this.isDestroy=!1,this.i={},this.left=0,this.event=new e.bkB}set config(t){null!=t.notify&&!Array.isArray(t.notify)&&t.notify>0&&(t.notify=[t.notify]),this._config=t}get config(){return this._config}begin(){this.status=u.ing,this.callEvent("start")}restart(){this.status!==u.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==u.stop&&(this.status=u.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status===u.stop||this.status===u.pause||(this.status=u.pause,this.callEvent("pause"))}resume(){this.status===u.stop||this.status!==u.pause||(this.status=u.ing,this.callEvent("resume"))}callEvent(t){this.event.emit({action:t,left:this.left,status:this.status,text:this.i.text})}init(){const t=this.config={demand:!1,leftTime:0,format:"HH:mm:ss",timezone:"+0000",formatDate:({date:s,formatStr:l,timezone:d})=>(0,p.Yq)(new Date(s),l,this.locale,d||"+0000"),...this.defCog,...this.config},n=this.frequency=~t.format.indexOf("S")?100:1e3;this.status=t.demand?u.pause:u.ing,this.getLeft();const r=this.reflow;this.reflow=(s=0,l=!1)=>r.apply(this,[s,l]),Array.isArray(t.notify)&&t.notify.forEach(s=>{if(s<1)throw new Error("The notify config must be a positive integer.");s*=1e3,this._notify[s-=s%n]=!0}),this.timer.add(this.reflow,n).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(t=0,n=!1){if(this.isDestroy)return;const{status:r,config:s,_notify:l}=this;if(!n&&r!==u.ing)return;let d=this.left=this.left-this.frequency*t;d<1&&(d=0),this.i={value:d,text:s.formatDate({date:d,formatStr:s.format,timezone:s.timezone})},"function"==typeof s.prettyText&&(this.i.text=s.prettyText(this.i.text)),this.cdr.detectChanges(),(0===s.notify||l[d])&&this.ngZone.run(()=>{this.callEvent("notify")}),0===d&&this.ngZone.run(()=>{this.status=u.done,this.destroy(),this.callEvent("done")})}getLeft(){const{config:t,frequency:n}=this;let r=1e3*t.leftTime;const s=t.stopTime;!r&&s&&(r=s-(new Date).getTime()),this.left=r-r%n}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(t){t.config.firstChange||this.restart()}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["countdown"]],hostVars:2,hostBindings:function(n,r){2&n&&e.AVh("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},standalone:!0,features:[e.Jv_([O]),e.OA$,e.aNF],decls:2,vars:1,consts:[[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){1&n&&e.DNE(0,J,1,4,"ng-container")(1,K,1,1,"span",0),2&n&&e.vxM(r.render?0:1)},dependencies:[p.T3],styles:[".count-down{font-variant-numeric:tabular-nums}\n"],encapsulation:2,changeDetection:0})}return o})(),H=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({})}return o})();var I=c(5623),E=c(7418),C=c(4535),f=c(2102),h=c(5596);const z=()=>({length:5,allowNumbersOnly:!0}),Z=()=>({leftTime:60,format:"mm:ss"});function Q(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",4)(1,"mat-card",5)(2,"mat-card-header")(3,"mat-card-title",6),e.EFF(4,"OTP Verification"),e.k0s()(),e.j41(5,"mat-card-content",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ng-otp-input",11),e.mxI("ngModelChange",function(r){e.eBV(t);const s=e.XpG();return e.DH7(s.otpCode,r)||(s.otpCode=r),e.Njj(r)}),e.bIt("onInputChange",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onOtpChange(r))}),e.k0s()(),e.j41(10,"div",12)(11,"span",13),e.EFF(12," Enter OTP code sent to +9471****123 "),e.k0s()(),e.j41(13,"div",14)(14,"span",15)(15,"countdown",16),e.bIt("event",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.handleEvent(r))}),e.k0s()()()()()(),e.j41(16,"mat-card-actions")(17,"div",8)(18,"div",9)(19,"div",17)(20,"button",18),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.proceedToVerify())}),e.EFF(21," Verify & Proceed "),e.k0s()(),e.j41(22,"div",17),e.EFF(23," Didn't recive the verification OTP? "),e.j41(24,"a",19),e.EFF(25,"Click me"),e.k0s()()()()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.otpCode),e.Y8G("config",e.lJ4(4,z)),e.R7$(6),e.Y8G("config",e.lJ4(5,Z)),e.R7$(5),e.Y8G("disabled",!t.enableVerify)}}function ee(o,a){if(1&o&&(e.j41(0,"div",20)(1,"div",9)(2,"div",21)(3,"mat-label",22),e.EFF(4),e.k0s(),e.j41(5,"mat-label",23),e.EFF(6),e.k0s()(),e.j41(7,"div",21),e.nrm(8,"img",24),e.k0s()()()),2&o){const t=e.XpG();e.R7$(4),e.JRh(t.otpSuccessTitle),e.R7$(2),e.JRh(t.otpSuccessMessage)}}let G=(()=>{class o{constructor(t,n,r,s,l){this.apiService=t,this.storageService=n,this.alertService=r,this.fullPageLoaderService=s,this.router=l,this.otpVerifyEvent=new e.bkB,this.otpCode="",this.enableVerify=!0,this.showVerify=!0,this.enableSuccess=!1,this.userIdEncoded="",this.otpSuccessMessage="Please wait for admin approval to proceed.",this.otpSuccessTitle="Your registration was successful"}onOtpChange(t){console.log(t),this.otpCode=t,this.enableVerify=5===this.otpCode.length}proceedToVerify(){if(5!==this.otpCode.length)return void console.error("Form is invalid");this.fullPageLoaderService.setLoadingStatus(!0);const t={user_id:this.storageService.getItem("user"),otp:this.otpCode,otp_type:this.otpType};this.apiService.verifyOtp(t).subscribe({next:n=>{console.log("OTP Verification successful:",n),this.onSuccessOtpVerification(n.data)},error:n=>{this.fullPageLoaderService.setLoadingStatus(!1),console.error("Registration failed:",n),this.alertService.errorAlert("center","OTP Verification failed","",3e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("OTP request completed.")}})}onSuccessOtpVerification(t){switch(this.showVerify=!1,this.otpType){case m.REGISTER_OTP_PENDING:this.showSuccessRegisterModal(),this.enableSuccess=!0,this.otpSuccessMessage="Your registration was successful. Please wait for admin approval to proceed.";break;case m.LOGIN_OTP_PENDING:this.showSuccessLoginToaster(),this.storageService.setItem("token",t),this.otpVerifyEvent.emit({data:"",status:!0,type:m.LOGIN_OTP_PENDING});break;case m.FORGET_PASSWORD_OTP_PENDING:this.showSuccessLoginToaster(),this.storageService.setItem("token",t),this.otpVerifyEvent.emit({data:"",status:!0,type:m.FORGET_PASSWORD_OTP_VERIFIED})}}showSuccessLoginToaster(){this.alertService.successToster("top-end","Welcome, You\u2019ve been successfully verified",6e3)}showSuccessRegisterModal(){this.alertService.successAlert("center","Registration Successful!","Your account has been created successfully. \u{1f680} You will receive an SMS once it's activated. Thank you for your patience!",7e3,!1,!1,!1)}handleEvent(t){console.log(t)}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(w),e.rXU(I.n),e.rXU(E.I),e.rXU(C.J),e.rXU(g.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-otp"]],inputs:{otpType:"otpType"},outputs:{otpVerifyEvent:"otpVerifyEvent"},standalone:!0,features:[e.Jv_([w]),e.aNF],decls:4,vars:2,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],["class","col-lg-4 d-flex align-items-center",4,"ngIf"],["class","col-lg-4 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"m-b-0"],[1,"p-32","align-items-center","justify-content-center"],[1,"container"],[1,"row"],[1,"col-md-12","col-sm-12","col-lg-12",2,"display","ruby"],[3,"ngModelChange","onInputChange","ngModel","config"],[1,"col-md-12","col-sm-12","col-lg-12"],[1,"d-block","f-w-500","m-t-24","text-center"],[1,"col-md-12","col-sm-12","col-lg-12","text-center"],[1,"d-block","f-w-500","m-t-24"],[3,"event","config"],[1,"col-md-12","col-sm-6","col-lg-12"],["mat-flat-button","","color","primary",1,"w-100",3,"click","disabled"],[1,"text-link"],[1,"col-lg-4","d-flex","justify-content-center","align-items-center"],[1,"col-md-12","col-lg-12","col-sm-12"],[1,"f-s-24","f-w-600","m-b-12","d-block","text-center"],[1,"mat-subtitle-2","f-s-16","f-w-600","m-b-12","d-block","text-center"],["src","./assets/images/backgrounds/otp-success.png","alt","Young Man Euphoric Gesture Celebrate Victory"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Q,26,6,"div",2)(3,ee,9,2,"div",3),e.k0s()()),2&n&&(e.R7$(2),e.Y8G("ngIf",r.showVerify),e.R7$(),e.Y8G("ngIf",r.enableSuccess))},dependencies:[X,N,p.MD,p.bT,g.iI,b.G,f.nJ,h.RN,h.YY,h.m2,h.MM,h.dh,_.$z,i.YN,i.BC,i.vS,i.X1,_.Hl,H,W],styles:["ngx-loading[_ngcontent-%COMP%]   .spinner-three-bouncee[_ngcontent-%COMP%]{width:90px!important}ngx-loading[_ngcontent-%COMP%]   .spinner-three-bounce[_ngcontent-%COMP%]{width:26px!important;height:26px!important}.text-link[_ngcontent-%COMP%]{text-decoration:underline;color:#3535e6;background:none;border:none;font-weight:600!important;padding:0;font:inherit;cursor:pointer}"]})}return o})();var y=c(5505);class S{static handleErrorAndGetAlertData(a){return a.erroroCode===y.z.DEACTIVE?{position:"center",text:"Your account Deactivated by ADMIN",timer:4e3,title:"Access denied",allowEnterKey:!0,allowEscapeKey:!0,allowOutsideClick:!0,hasTimer:!0,confirmButtonText:"Ok",showCancelButton:!1,showConfirmButton:!1}:a.erroroCode===y.z.REGISTRATION_OTP_VERIFICATION_PENDING?{position:"center",text:"Your account was previously created, but the verification process is not yet complete.",title:"Hay, We got you!",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,timer:null,hasTimer:!1,confirmButtonText:"Verify My Account",showCancelButton:!0,showConfirmButton:!0}:a.erroroCode===y.z.ADMIN_VERIFICATION_PENDING?{position:"center",text:"Your account not verified by ADMIN",title:"Access denied",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,timer:4e3,hasTimer:!0,confirmButtonText:"Ok",showCancelButton:!1,showConfirmButton:!1}:{position:"center",text:"Login error",title:"",allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,timer:4e3,hasTimer:!0,confirmButtonText:"Ok",showCancelButton:!1,showConfirmButton:!1}}}var j=c(7224),V=c(7780),P=c(9631),k=c(9213),L=c(4823);const te=()=>["/dashboard"];function ne(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Old Password is required. "),e.k0s())}function re(o,a){1&o&&(e.j41(0,"mat-icon",16),e.EFF(1," error "),e.k0s())}function oe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," New Password is required. "),e.k0s())}function se(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Confirm Password is required. "),e.k0s())}function ie(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Passwords do not match. "),e.k0s())}let ae=(()=>{class o{constructor(t,n,r){this.alertService=t,this.apiService=n,this.fullPageLoaderService=r,this.passwordRestOutputEvent=new e.bkB,this.form=new i.gE({old_password:new i.MJ("",[i.k0.required]),new_password:new i.MJ("",[i.k0.required,i.k0.minLength(8),i.k0.pattern(/^(?=.*[A-Z])(?=.*\d)(?=.*[a-zA-Z]).{8,}$/)]),confirm_password:new i.MJ("",[i.k0.required])},{validators:V.R.passwordMatchValidator})}submit(){this.form.invalid?console.error("Form is invalid"):(this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.passwordReset({old_password:this.form.value.old_password,new_password:this.form.value.new_password,confirm_password:this.form.value.confirm_password}).subscribe({next:n=>{console.log("Password successful:",n),this.alertService.successToster("top-end","Your password has been successfully reset!",5e3),this.passwordRestOutputEvent.emit(!0)},error:n=>{this.fullPageLoaderService.setLoadingStatus(!1),console.error("Password rest failed:",n),this.alertService.errorAlert("center","Password rest failed","",3e3,!1,"",!1),this.passwordRestOutputEvent.emit(!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Password reset request completed.")}}))}get f(){return this.form.controls}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(E.I),e.rXU(w),e.rXU(C.J))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-password-reset"]],outputs:{passwordRestOutputEvent:"passwordRestOutputEvent"},standalone:!0,features:[e.aNF],decls:27,vars:9,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","p-t-20","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],[1,"m-t-30",3,"formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","old_password","type","password"],[4,"ngIf"],["matInput","","formControlName","new_password","type","password"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password",4,"ngIf"],["matInput","","formControlName","confirm_password","type","password","placeholder","Confirm your password"],["mat-flat-button","","color","primary",1,"w-100",3,"click","disabled"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5),e.nrm(6,"a",6),e.k0s(),e.j41(7,"form",7)(8,"mat-label",8),e.EFF(9,"Old Password"),e.k0s(),e.j41(10,"mat-form-field",9),e.nrm(11,"input",10),e.DNE(12,ne,2,0,"mat-error",11),e.k0s(),e.j41(13,"mat-label",8),e.EFF(14,"New Password"),e.k0s(),e.j41(15,"mat-form-field",9),e.nrm(16,"input",12),e.DNE(17,re,2,0,"mat-icon",13)(18,oe,2,0,"mat-error",11),e.k0s(),e.j41(19,"mat-label",8),e.EFF(20,"Confirm Password"),e.k0s(),e.j41(21,"mat-form-field",9),e.nrm(22,"input",14),e.DNE(23,se,2,0,"mat-error",11)(24,ie,2,0,"mat-error",11),e.k0s(),e.j41(25,"button",15),e.bIt("click",function(){return r.submit()}),e.EFF(26," Reset Password "),e.k0s()()()()()()()),2&n&&(e.R7$(6),e.Y8G("routerLink",e.lJ4(8,te)),e.R7$(),e.Y8G("formGroup",r.form),e.R7$(5),e.Y8G("ngIf",r.f.old_password.hasError("required")&&(r.f.old_password.touched||r.f.old_password.dirty)),e.R7$(5),e.Y8G("ngIf",r.f.new_password.invalid&&(r.f.new_password.touched||r.f.new_password.dirty)),e.R7$(),e.Y8G("ngIf",r.f.new_password.hasError("required")&&(r.f.new_password.touched||r.f.new_password.dirty)),e.R7$(5),e.Y8G("ngIf",r.f.confirm_password.hasError("required")&&(r.f.confirm_password.touched||r.f.confirm_password.dirty)),e.R7$(),e.Y8G("ngIf",r.f.confirm_password.hasError("passwordsMismatch")&&(r.f.confirm_password.touched||r.f.confirm_password.dirty)),e.R7$(),e.Y8G("disabled",r.form.invalid))},dependencies:[p.MD,p.bT,g.iI,g.Wk,b.G,f.rl,f.nJ,f.TL,f.yw,P.fg,h.RN,h.m2,_.$z,k.An,L.oV,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,j.y]})}return o})();var le=c(2765);const ce=()=>["/dashboard"];function ue(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Email is required. "),e.k0s())}function de(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid email address. "),e.k0s())}function pe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Password is required. "),e.k0s())}function fe(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"mat-card-content",5)(6,"div",6),e.nrm(7,"a",7),e.k0s(),e.j41(8,"form",8)(9,"mat-label",9),e.EFF(10,"Username"),e.k0s(),e.j41(11,"mat-form-field",10),e.nrm(12,"input",11),e.DNE(13,ue,2,0,"mat-error",0)(14,de,2,0,"mat-error",0),e.k0s(),e.j41(15,"mat-label",9),e.EFF(16,"Password"),e.k0s(),e.j41(17,"mat-form-field",10)(18,"input",12),e.bIt("keydown.enter",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.submit())}),e.k0s(),e.j41(19,"mat-icon",13),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.showHidePassword())}),e.EFF(20),e.k0s(),e.DNE(21,pe,2,0,"mat-error",0),e.k0s(),e.j41(22,"div",14)(23,"mat-checkbox",15),e.EFF(24,"Remember this Device"),e.k0s(),e.j41(25,"a",16),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.navigateToForgotPassword())}),e.EFF(26,"Forgot Password ?"),e.k0s()(),e.j41(27,"a",17),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.submit())}),e.EFF(28," Sign In "),e.k0s()(),e.j41(29,"span",18),e.EFF(30,"New to Lawyercloud? "),e.j41(31,"a",19),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.navigateToRegister())}),e.EFF(32," Create an account"),e.k0s()()()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("routerLink",e.lJ4(7,ce)),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",t.f.uname.hasError("required")&&(t.f.uname.touched||t.f.uname.dirty)),e.R7$(),e.Y8G("ngIf",t.f.uname.hasError("email")&&(t.f.uname.touched||t.f.uname.dirty)),e.R7$(4),e.Y8G("type",t.hidePassword?"password":"text"),e.R7$(2),e.JRh(t.hidePassword?"visibility_off":"visibility"),e.R7$(),e.Y8G("ngIf",t.f.password.hasError("required")&&(t.f.password.touched||t.f.password.dirty))}}function me(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Email is required. "),e.k0s())}function he(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid email address. "),e.k0s())}function ge(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"mat-card-content",5)(6,"div",6),e.EFF(7," Enter your email to reset password "),e.k0s(),e.j41(8,"form",8)(9,"mat-label",9),e.EFF(10,"Username"),e.k0s(),e.j41(11,"mat-form-field",10),e.nrm(12,"input",11),e.DNE(13,me,2,0,"mat-error",0)(14,he,2,0,"mat-error",0),e.k0s(),e.j41(15,"button",20),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.passwordResetFlow())}),e.EFF(16," Reset password "),e.k0s(),e.j41(17,"button",21),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.backToLogin())}),e.EFF(18," Back to Sign In "),e.k0s()()()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("formGroup",t.formPasswordReset),e.R7$(5),e.Y8G("ngIf",t.fReset.uname.hasError("required")&&(t.fReset.uname.touched||t.fReset.uname.dirty)),e.R7$(),e.Y8G("ngIf",t.fReset.uname.hasError("email")&&(t.fReset.uname.touched||t.fReset.uname.dirty)),e.R7$(),e.Y8G("disabled",t.formPasswordReset.invalid)}}function _e(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"app-otp",22),e.bIt("otpVerifyEvent",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onOtpVerifyEvent(r))}),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("otpType",t.otpType)}}function we(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"app-password-reset",23),e.bIt("passwordRestOutputEvent",function(r){e.eBV(t);const s=e.XpG();return e.Njj(s.onPasswordRestOutputEvent(r))}),e.k0s(),e.bVm()}}let ve=(()=>{class o{constructor(t,n,r,s,l){this.router=t,this.alertService=n,this.apiService=r,this.storageService=s,this.fullPageLoaderService=l,this.hidePassword=!0,this.otpType=m.LOGIN_OTP_PENDING,this.isLoginEnable=!0,this.isOtpEnable=!1,this.isResetPasswordEnable=!1,this.isFrogetPasswordEnable=!1,this.form=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.minLength(6)]),password:new i.MJ("",[i.k0.required])}),this.formPasswordReset=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.email])}),this.form=new i.gE({uname:new i.MJ("",[i.k0.required,i.k0.email]),password:new i.MJ("",[i.k0.required])})}get f(){return this.form.controls}get fReset(){return this.formPasswordReset.controls}submit(){this.form.invalid?console.error("Form is invalid"):(this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.loginUser({email:this.form.value.uname,password:this.form.value.password}).subscribe({next:n=>{console.log("Login successful and OTP verification pending:",n),this.isOtpEnable=!0,this.isLoginEnable=!1,this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",n.data.user_id)},error:n=>{if(this.fullPageLoaderService.setLoadingStatus(!1),console.error("Login failed:",n),n&&n.error&&n.error.erroroCode){let r=S.handleErrorAndGetAlertData(n.error);n.error.erroroCode===y.z.REGISTRATION_OTP_VERIFICATION_PENDING?(this.otpType=m.REGISTER_OTP_PENDING,this.alertService.confirmAlert(r.title,r.text,"warning",r.showCancelButton,"No",r.showConfirmButton,r.confirmButtonText,!1,this.calbackForPendingRegisterOtpVerification.bind(this,"")),this.storageService.setItem("user",n.error.data)):this.alertService.errorAlert("center",r.title,r.text,r.timer,r.showCancelButton,r.confirmButtonText,r.showConfirmButton)}else this.alertService.errorAlert("center","Login failed",n?.error?.message?n.error.message:"",4e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Login request completed.")}}))}passwordResetFlow(){this.formPasswordReset.controls.uname.valid?(this.otpType=m.FORGET_PASSWORD_OTP_PENDING,this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.passwordResetOtp({email:this.formPasswordReset.value.uname}).subscribe({next:n=>{console.log("Password reset successful and OTP verification pending:",n),this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",n.data.user_id),this.isOtpEnable=!0,this.isLoginEnable=!1,this.isResetPasswordEnable=!1},error:n=>{if(this.fullPageLoaderService.setLoadingStatus(!1),console.error("Password resetn failed:",n),n&&n.error&&n.error.erroroCode){let r=S.handleErrorAndGetAlertData(n.error);n.error.erroroCode===y.z.REGISTRATION_OTP_VERIFICATION_PENDING?(this.alertService.confirmAlert(r.title,r.text,"warning",r.showCancelButton,"No",r.showConfirmButton,r.confirmButtonText,!1,this.calbackForPendingRegisterOtpVerification.bind(this,n.error.data)),this.storageService.setItem("user",n.error.data)):this.alertService.errorAlert("center",r.title,r.text,r.timer,r.showCancelButton,r.confirmButtonText,r.showConfirmButton)}else this.alertService.errorAlert("center","Password reset failed",n?.error?.message?n.error.message:"",4e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Password reset request completed.")}})):this.alertService.errorToaster("top-end","Please enter valid email address")}calbackForPendingRegisterOtpVerification(t){this.formPasswordReset.controls.uname.valid?(this.otpType=m.REGISTER_OTP_PENDING,this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.resendOtp({email:this.formPasswordReset.value.uname,user_id:t,otp_type:this.otpType}).subscribe({next:r=>{console.log("Register OTP verification pending:",r),this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",r.data.user_id),this.isOtpEnable=!0,this.isLoginEnable=!1,this.isResetPasswordEnable=!1,this.isFrogetPasswordEnable=!1},error:r=>{if(this.fullPageLoaderService.setLoadingStatus(!1),console.error("Register OTP sending failed:",r),r&&r.error&&r.error.erroroCode){let s=S.handleErrorAndGetAlertData(r.error);this.alertService.errorAlert("center",s.title,s.text,s.timer,s.showCancelButton,s.confirmButtonText,s.showConfirmButton)}else this.alertService.errorAlert("center","OTP sending failed",r?.error?.message?r.error.message:"",4e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Register OTP request completed.")}})):this.alertService.errorToaster("top-end","Please enter valid email address")}navigateToForgotPassword(){this.isFrogetPasswordEnable=!1,this.isOtpEnable=!1,this.isLoginEnable=!1,this.isResetPasswordEnable=!0}onOtpVerifyEvent(t){console.log(t),this.otpType===m.LOGIN_OTP_PENDING?this.navigateToHome():(this.isFrogetPasswordEnable=!1,this.isOtpEnable=!1,this.isLoginEnable=!1,this.isResetPasswordEnable=!0)}onPasswordRestOutputEvent(t){console.log(t),t&&this.backToLogin()}backToLogin(){this.isFrogetPasswordEnable=!1,this.isOtpEnable=!1,this.isLoginEnable=!0,this.isResetPasswordEnable=!1}navigateToRegister(){this.router.navigate(["/authentication/register"])}navigateToHome(){this.router.navigate(["/dashboard"])}showHidePassword(){this.hidePassword=!this.hidePassword}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(g.Ix),e.rXU(E.I),e.rXU(w),e.rXU(I.n),e.rXU(C.J))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-side-login"]],standalone:!0,features:[e.Jv_([w]),e.aNF],decls:4,vars:4,consts:[[4,"ngIf"],[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],[1,"m-t-30",3,"formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","uname","type","email","placeholder","Enter User name"],["matInput","","formControlName","password","placeholder","Enter your password",3,"keydown.enter","type"],["matSuffix","",1,"show-hide-icon",3,"click"],[1,"d-flex","align-items-center","m-b-12"],["color","primary"],[1,"cursor-pointer","text-primary","f-w-600","text-decoration-none","m-l-auto","f-s-14",3,"click"],["mat-flat-button","","color","primary",1,"w-100",3,"click"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","cursor-pointer","text-primary","f-w-500","f-s-14",3,"click"],["mat-flat-button","","color","primary",1,"w-100","m-b-5",3,"click","disabled"],["type","button","mat-stroked-button","",1,"w-100","m-t-15",3,"click"],[3,"otpVerifyEvent","otpType"],[3,"passwordRestOutputEvent"]],template:function(n,r){1&n&&e.DNE(0,fe,33,8,"ng-container",0)(1,ge,19,4,"ng-container",0)(2,_e,2,1,"ng-container",0)(3,we,2,0,"ng-container",0),2&n&&(e.Y8G("ngIf",r.isLoginEnable),e.R7$(),e.Y8G("ngIf",r.isResetPasswordEnable),e.R7$(),e.Y8G("ngIf",r.isOtpEnable),e.R7$(),e.Y8G("ngIf",r.isFrogetPasswordEnable))},dependencies:[p.MD,p.bT,g.iI,g.Wk,b.G,le.So,f.rl,f.nJ,f.TL,f.yw,P.fg,h.RN,h.m2,_.It,_.$z,k.An,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,_.Hl,G,ae],encapsulation:2})}return o})();var ye=c(2155);const be=()=>["/dashboard"],Ee=()=>["/authentication/login"];function Ce(o,a){if(1&o&&(e.qex(0),e.nrm(1,"app-otp",1),e.bVm()),2&o){const t=e.XpG();e.R7$(),e.Y8G("otpType",t.otpType)}}function Te(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Name is required. "),e.k0s())}function Re(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Name must be at least 6 characters long. "),e.k0s())}function Ie(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Name cannot exceed 50 characters. "),e.k0s())}function Se(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Email is required. "),e.k0s())}function Pe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid email address. "),e.k0s())}function ke(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Mobile number is required. "),e.k0s())}function Fe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Enter a valid 9-digit mobile number. "),e.k0s())}function Ne(o,a){1&o&&(e.j41(0,"mat-icon",23),e.EFF(1," error "),e.k0s())}function Oe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Password is required. "),e.k0s())}function xe(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Confirm Password is required. "),e.k0s())}function Ge(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Passwords do not match. "),e.k0s())}function je(o,a){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"mat-card",5)(5,"mat-card-content",6)(6,"div",7),e.nrm(7,"a",8),e.k0s(),e.j41(8,"form",9)(9,"mat-label",10),e.EFF(10,"Name"),e.k0s(),e.j41(11,"mat-form-field",11),e.nrm(12,"input",12),e.DNE(13,Te,2,0,"mat-error",0)(14,Re,2,0,"mat-error",0)(15,Ie,2,0,"mat-error",0),e.k0s(),e.j41(16,"mat-label",10),e.EFF(17,"Email Address"),e.k0s(),e.j41(18,"mat-form-field",11),e.nrm(19,"input",13),e.DNE(20,Se,2,0,"mat-error",0)(21,Pe,2,0,"mat-error",0),e.k0s(),e.j41(22,"mat-label",10),e.EFF(23,"Mobile Number"),e.k0s(),e.j41(24,"mat-form-field",11)(25,"span",14),e.EFF(26,"+94 \xa0"),e.k0s(),e.nrm(27,"input",15),e.DNE(28,ke,2,0,"mat-error",0)(29,Fe,2,0,"mat-error",0),e.k0s(),e.j41(30,"mat-label",10),e.EFF(31,"Password"),e.k0s(),e.j41(32,"mat-form-field",11),e.nrm(33,"input",16),e.DNE(34,Ne,2,0,"mat-icon",17),e.j41(35,"mat-icon",18),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.showHidePassword())}),e.EFF(36),e.k0s(),e.DNE(37,Oe,2,0,"mat-error",0),e.k0s(),e.j41(38,"mat-label",10),e.EFF(39,"Confirm Password"),e.k0s(),e.j41(40,"mat-form-field",11)(41,"input",19),e.bIt("keydown.enter",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.submit())}),e.k0s(),e.j41(42,"mat-icon",18),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.showHideConfirmPassword())}),e.EFF(43),e.k0s(),e.DNE(44,xe,2,0,"mat-error",0)(45,Ge,2,0,"mat-error",0),e.k0s(),e.j41(46,"button",20),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.submit())}),e.EFF(47," Sign Up "),e.k0s()(),e.j41(48,"span",21),e.EFF(49,"Already have an Account? "),e.j41(50,"a",22),e.EFF(51," Sign In"),e.k0s()()()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("routerLink",e.lJ4(19,be)),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",t.f.name.hasError("required")&&(t.f.name.touched||t.f.name.dirty)),e.R7$(),e.Y8G("ngIf",t.f.name.hasError("minlength")&&(t.f.name.touched||t.f.name.dirty)),e.R7$(),e.Y8G("ngIf",t.f.name.hasError("maxlength")&&(t.f.name.touched||t.f.name.dirty)),e.R7$(5),e.Y8G("ngIf",t.f.email.hasError("required")&&(t.f.email.touched||t.f.email.dirty)),e.R7$(),e.Y8G("ngIf",t.f.email.hasError("email")&&(t.f.email.touched||t.f.email.dirty)),e.R7$(7),e.Y8G("ngIf",t.f.mobileNumber.hasError("required")&&(t.f.mobileNumber.touched||t.f.mobileNumber.dirty)),e.R7$(),e.Y8G("ngIf",t.f.mobileNumber.hasError("pattern")&&(t.f.mobileNumber.touched||t.f.mobileNumber.dirty)),e.R7$(4),e.Y8G("type",t.hidePassword?"password":"text"),e.R7$(),e.Y8G("ngIf",t.f.password.invalid&&(t.f.password.touched||t.f.password.dirty)),e.R7$(2),e.JRh(t.hidePassword?"visibility_off":"visibility"),e.R7$(),e.Y8G("ngIf",t.f.password.hasError("required")&&(t.f.password.touched||t.f.password.dirty)),e.R7$(4),e.Y8G("type",t.hideConfirmPassword?"password":"text"),e.R7$(2),e.JRh(t.hidePassword?"visibility_off":"visibility"),e.R7$(),e.Y8G("ngIf",t.f.confirmPassword.hasError("required")&&(t.f.confirmPassword.touched||t.f.confirmPassword.dirty)),e.R7$(),e.Y8G("ngIf",t.f.confirmPassword.hasError("passwordsMismatch")&&(t.f.confirmPassword.touched||t.f.confirmPassword.dirty)),e.R7$(),e.Y8G("disabled",t.form.invalid),e.R7$(4),e.Y8G("routerLink",e.lJ4(20,Ee))}}const Ve=[{path:"",children:[{path:"login",component:ve},{path:"register",component:(()=>{class o{constructor(t,n,r,s,l){this.router=t,this.alertService=n,this.apiService=r,this.storageService=s,this.fullPageLoaderService=l,this.hideConfirmPassword=!0,this.hidePassword=!0,this.isRegisterEnable=!0,this.isOtpEnable=!1,this.otpType=m.REGISTER_OTP_PENDING,this.form=new i.gE({name:new i.MJ("",[i.k0.required,i.k0.minLength(3),i.k0.maxLength(50)]),email:new i.MJ("",[i.k0.required,i.k0.email]),mobileNumber:new i.MJ("",[i.k0.required,i.k0.pattern(/^\d{9}$/)]),password:new i.MJ("",[i.k0.required,i.k0.minLength(8),i.k0.pattern(/^(?=.*[A-Z])(?=.*\d)(?=.*[a-zA-Z]).{8,}$/)]),confirmPassword:new i.MJ("",[i.k0.required])},{validators:V.R.passwordMatchValidator})}get f(){return this.form.controls}submit(){this.form.invalid?console.error("Form is invalid"):(this.fullPageLoaderService.setLoadingStatus(!0),this.apiService.registerUser({name:this.form.value.name,email:this.form.value.email,mobileNumber:`+94${this.form.value.mobileNumber}`,password:this.form.value.password}).subscribe({next:n=>{console.log("Registration successful:",n),this.isOtpEnable=!0,this.isRegisterEnable=!1,this.alertService.successToster("top-end","OTP verification sent to your mobile",5e3),this.storageService.setItem("user",n.data.user_id)},error:n=>{this.fullPageLoaderService.setLoadingStatus(!1),console.error("Registration failed:",n),n.error.errorCode===ye.C.ALREADY_EXIST?this.alertService.confirmAlert("Hay we know you!","You have registered befor with this email","info",!0,"No",!0,"Try SignIn",!1,this.calbackForPendingRegisterOtpVerification.bind(this)):this.alertService.errorAlert("center","Registration failed","",3e3,!1,"",!1)},complete:()=>{this.fullPageLoaderService.setLoadingStatus(!1),console.log("Registration request completed.")}}))}calbackForPendingRegisterOtpVerification(){this.router.navigate(["/authentication/login"])}showHideConfirmPassword(){this.hideConfirmPassword=!this.hideConfirmPassword}showHidePassword(){this.hidePassword=!this.hidePassword}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(g.Ix),e.rXU(E.I),e.rXU(w),e.rXU(I.n),e.rXU(C.J))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-side-register"]],standalone:!0,features:[e.Jv_([w]),e.aNF],decls:2,vars:2,consts:[[4,"ngIf"],[3,"otpType"],[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","p-t-20","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[1,"text-center"],[3,"routerLink"],[1,"m-t-30",3,"formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","name","placeholder","Enter your name"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matTextPrefix",""],["matInput","","formControlName","mobileNumber","type","tel","placeholder","71-222-2222"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password",4,"ngIf"],["matSuffix","",1,"show-hide-icon",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm your password",3,"keydown.enter","type"],["mat-flat-button","","color","primary",1,"w-100",3,"click","disabled"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],["matSuffix","","matTooltip","Password must be at least 8 characters long.\n        Password must include an uppercase letter, a number, and a minimum of 8 characters.\n        Confirm Password"]],template:function(n,r){1&n&&e.DNE(0,Ce,2,1,"ng-container",0)(1,je,52,21,"ng-container",0),2&n&&(e.Y8G("ngIf",r.isOtpEnable&&!r.isRegisterEnable),e.R7$(),e.Y8G("ngIf",r.isRegisterEnable&&!r.isOtpEnable))},dependencies:[p.MD,p.bT,g.iI,g.Wk,b.G,f.rl,f.nJ,f.TL,f.JW,f.yw,P.fg,h.RN,h.m2,_.$z,k.An,L.oV,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,j.y,G],encapsulation:2})}return o})()}]}]}}]);